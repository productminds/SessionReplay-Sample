{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"file":"loglevel.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/types/loglevel.ts"],"sourcesContent":["export enum LogLevel {\n  None = 0,\n  Error = 1,\n  Warn = 2,\n  Verbose = 3,\n  Debug = 4,\n}\n"],"names":[],"mappings":";;;AAAA,IAAY,QAMX;AAND,CAAA,SAAY,QAAQ;IAClB,QAAA,CAAA,QAAA,CAAA,OAAA,GAAA,EAAA,GAAA,MAAQ,CAAA;IACR,QAAA,CAAA,QAAA,CAAA,QAAA,GAAA,EAAA,GAAA,OAAS,CAAA;IACT,QAAA,CAAA,QAAA,CAAA,OAAA,GAAA,EAAA,GAAA,MAAQ,CAAA;IACR,QAAA,CAAA,QAAA,CAAA,UAAA,GAAA,EAAA,GAAA,SAAW,CAAA;IACX,QAAA,CAAA,QAAA,CAAA,QAAA,GAAA,EAAA,GAAA,OAAS,CAAA;AACX,CAAC,EANW,QAAQ,IAAA,CAAR,QAAQ,GAAA,CAAA,CAAA,GAMnB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"file":"debug.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/utils/debug.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unsafe-assignment */\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/no-unsafe-call */\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { LogConfig, DebugContext } from '../logger';\nimport { LogLevel } from '../types/loglevel';\nimport { AmplitudeCore } from '../core-client';\n\nexport const getStacktrace = (ignoreDepth = 0): string[] => {\n  const trace = new Error().stack || '';\n  return trace\n    .split('\\n')\n    .slice(2 + ignoreDepth)\n    .map((text) => text.trim());\n};\n\n// This hook makes sure we always get the latest logger and logLevel.\nexport const getClientLogConfig = (client: AmplitudeCore) => (): LogConfig => {\n  const { loggerProvider: logger, logLevel } = { ...client.config };\n  return {\n    logger,\n    logLevel,\n  };\n};\n\n// This is a convenient function to get the attribute from object with string path, similar to lodash '#get'.\nexport const getValueByStringPath = (obj: any, path: string): any => {\n  path = path.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties\n  path = path.replace(/^\\./, ''); // strip a leading dot\n  for (const attr of path.split('.')) {\n    if (attr in obj) {\n      obj = obj[attr];\n    } else {\n      return;\n    }\n  }\n  return obj;\n};\n\nexport const getClientStates = (client: AmplitudeCore, paths: Array<string>) => (): { [key: string]: any } => {\n  const res: { [key: string]: any } = {};\n  for (const path of paths) {\n    res[path] = getValueByStringPath(client, path);\n  }\n  return res;\n};\n\nexport const debugWrapper =\n  <T extends Array<any>, R>(\n    fn: (...args: T) => R,\n    fnName: string,\n    getLogConfig: () => LogConfig,\n    getStates?: () => { [key: string]: any },\n    fnContext: any = null,\n  ) =>\n  (...args: T): R => {\n    const { logger, logLevel } = getLogConfig();\n    // return early if possible to reduce overhead\n    if ((logLevel && logLevel < LogLevel.Debug) || !logLevel || !logger) {\n      return fn.apply(fnContext, args);\n    }\n    const debugContext: DebugContext = {\n      type: 'invoke public method',\n      name: fnName,\n      args,\n      stacktrace: getStacktrace(1),\n      time: {\n        start: new Date().toISOString(),\n      },\n      states: {},\n    };\n    if (getStates && debugContext.states) {\n      debugContext.states.before = getStates();\n    }\n    const result = fn.apply(fnContext, args);\n    if (result && (result as any).promise) {\n      // if result is a promise, add the callback\n      (result as any).promise.then(() => {\n        if (getStates && debugContext.states) {\n          debugContext.states.after = getStates();\n        }\n        if (debugContext.time) {\n          debugContext.time.end = new Date().toISOString();\n        }\n        logger.debug(JSON.stringify(debugContext, null, 2));\n      });\n    } else {\n      if (getStates && debugContext.states) {\n        debugContext.states.after = getStates();\n      }\n      if (debugContext.time) {\n        debugContext.time.end = new Date().toISOString();\n      }\n      logger.debug(JSON.stringify(debugContext, null, 2));\n    }\n    return result;\n  };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"file":"event.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/types/event/event.ts"],"sourcesContent":["import { BaseEvent } from './base-event';\nimport { RevenueEventProperties } from '../../revenue';\n\nexport enum IdentifyOperation {\n  // Base Operations to set values\n  SET = '$set',\n  SET_ONCE = '$setOnce',\n\n  // Operations around modifying existing values\n  ADD = '$add',\n  APPEND = '$append',\n  PREPEND = '$prepend',\n  REMOVE = '$remove',\n\n  // Operations around appending values *if* they aren't present\n  PREINSERT = '$preInsert',\n  POSTINSERT = '$postInsert',\n\n  // Operations around removing properties/values\n  UNSET = '$unset',\n  CLEAR_ALL = '$clearAll',\n}\n\nexport type ValidPropertyType =\n  | number\n  | string\n  | boolean\n  | Array<string | number>\n  | { [key: string]: ValidPropertyType }\n  | Array<{ [key: string]: ValidPropertyType }>;\n\ninterface BaseOperationConfig {\n  [key: string]: ValidPropertyType;\n}\n\nexport interface IdentifyUserProperties {\n  // Add operations can only take numbers\n  [IdentifyOperation.ADD]?: { [key: string]: number };\n\n  // This reads the keys of the passed object, but the values are not used\n  [IdentifyOperation.UNSET]?: BaseOperationConfig;\n  // This option does not read the key as it unsets all user properties\n  [IdentifyOperation.CLEAR_ALL]?: any;\n\n  // These operations can take numbers, strings, or arrays of both.\n  [IdentifyOperation.SET]?: BaseOperationConfig;\n  [IdentifyOperation.SET_ONCE]?: BaseOperationConfig;\n  [IdentifyOperation.APPEND]?: BaseOperationConfig;\n  [IdentifyOperation.PREPEND]?: BaseOperationConfig;\n  [IdentifyOperation.POSTINSERT]?: BaseOperationConfig;\n  [IdentifyOperation.PREINSERT]?: BaseOperationConfig;\n  [IdentifyOperation.REMOVE]?: BaseOperationConfig;\n}\n\n/**\n * Represents the structure of user properties that can be sent with an Identify or GroupIdentify event.\n *\n * This type supports both:\n *\n * 1. Reserved Amplitude identify operations via `IdentifyUserProperties`:\n *    These operations enable structured updates to user properties.\n *\n *    Example:\n *    ```ts\n *    {\n *      $set: { plan: 'premium', login_count: 1 },\n *      $add: { login_count: 1 },\n *      $unset: { plan: '-' },\n *      $clearAll: '-'\n *    }\n *    ```\n *\n * 2. Custom user-defined properties (excluding reserved operation keys):\n *    Useful for assigning static properties without using Identify operations.\n *\n *    Example:\n *    ```ts\n *    {\n *      custom_flag: true,\n *      experiment_group: 'B',\n *      favorite_color: 'blue'\n *    }\n *    ```\n *\n * This union ensures compatibility with Amplitude's identify semantics\n * while allowing flexibility to define arbitrary non-reserved properties.\n */\nexport type UserProperties =\n  | IdentifyUserProperties\n  | {\n      [key in Exclude<string, IdentifyOperation>]: any;\n    };\n\n/**\n * Strings that have special meaning when used as an event's type\n * and have different specifications.\n */\nexport enum SpecialEventType {\n  IDENTIFY = '$identify',\n  GROUP_IDENTIFY = '$groupidentify',\n  REVENUE = 'revenue_amount',\n}\n\nexport interface TrackEvent extends BaseEvent {\n  event_type: Exclude<string, SpecialEventType>;\n}\n\nexport interface IdentifyEvent extends BaseEvent {\n  event_type: SpecialEventType.IDENTIFY;\n  user_properties: UserProperties;\n}\n\nexport interface GroupIdentifyEvent extends BaseEvent {\n  event_type: SpecialEventType.GROUP_IDENTIFY;\n  group_properties: UserProperties;\n}\n\nexport interface RevenueEvent extends BaseEvent {\n  event_type: SpecialEventType.REVENUE;\n  event_properties:\n    | RevenueEventProperties\n    | {\n        [key: string]: any;\n      };\n}\n\nexport type Event = TrackEvent | IdentifyEvent | GroupIdentifyEvent | RevenueEvent;\n"],"names":[],"mappings":";;;;AAGA,IAAY,iBAkBX;AAlBD,CAAA,SAAY,iBAAiB;IAC3B,gCAAgC;IAChC,iBAAA,CAAA,MAAA,GAAA,MAAY,CAAA;IACZ,iBAAA,CAAA,WAAA,GAAA,UAAqB,CAAA;IAErB,8CAA8C;IAC9C,iBAAA,CAAA,MAAA,GAAA,MAAY,CAAA;IACZ,iBAAA,CAAA,SAAA,GAAA,SAAkB,CAAA;IAClB,iBAAA,CAAA,UAAA,GAAA,UAAoB,CAAA;IACpB,iBAAA,CAAA,SAAA,GAAA,SAAkB,CAAA;IAElB,8DAA8D;IAC9D,iBAAA,CAAA,YAAA,GAAA,YAAwB,CAAA;IACxB,iBAAA,CAAA,aAAA,GAAA,aAA0B,CAAA;IAE1B,+CAA+C;IAC/C,iBAAA,CAAA,QAAA,GAAA,QAAgB,CAAA;IAChB,iBAAA,CAAA,YAAA,GAAA,WAAuB,CAAA;AACzB,CAAC,EAlBW,iBAAiB,IAAA,CAAjB,iBAAiB,GAAA,CAAA,CAAA,GAkB5B;AA4ED,IAAY,gBAIX;AAJD,CAAA,SAAY,gBAAgB;IAC1B,gBAAA,CAAA,WAAA,GAAA,WAAsB,CAAA;IACtB,gBAAA,CAAA,iBAAA,GAAA,gBAAiC,CAAA;IACjC,gBAAA,CAAA,UAAA,GAAA,gBAA0B,CAAA;AAC5B,CAAC,EAJW,gBAAgB,IAAA,CAAhB,gBAAgB,GAAA,CAAA,CAAA,GAI3B","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"file":"constants.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/types/constants.ts"],"sourcesContent":["export const UNSET_VALUE = '-';\nexport const AMPLITUDE_PREFIX = 'AMP';\nexport const STORAGE_PREFIX = `${AMPLITUDE_PREFIX}_unsent`;\nexport const AMPLITUDE_SERVER_URL = 'https://api2.amplitude.com/2/httpapi';\nexport const EU_AMPLITUDE_SERVER_URL = 'https://api.eu.amplitude.com/2/httpapi';\nexport const AMPLITUDE_BATCH_SERVER_URL = 'https://api2.amplitude.com/batch';\nexport const EU_AMPLITUDE_BATCH_SERVER_URL = 'https://api.eu.amplitude.com/batch';\n"],"names":[],"mappings":";;;;;;;;;AAAO,IAAM,WAAW,GAAG,GAAG,CAAC;AACxB,IAAM,gBAAgB,GAAG,KAAK,CAAC;AAC/B,IAAM,cAAc,GAAG,GAAA,MAAA,CAAG,gBAAgB,EAAA,UAAS,CAAC;AACpD,IAAM,oBAAoB,GAAG,sCAAsC,CAAC;AACpE,IAAM,uBAAuB,GAAG,wCAAwC,CAAC;AACzE,IAAM,0BAA0B,GAAG,kCAAkC,CAAC;AACtE,IAAM,6BAA6B,GAAG,oCAAoC,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"file":"valid-properties.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/utils/valid-properties.ts"],"sourcesContent":["const MAX_PROPERTY_KEYS = 1000;\n\nexport const isValidObject = (properties: { [key: string]: any }): boolean => {\n  if (Object.keys(properties).length > MAX_PROPERTY_KEYS) {\n    return false;\n  }\n  for (const key in properties) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const value = properties[key];\n    if (!isValidProperties(key, value)) return false;\n  }\n  return true;\n};\n\nexport const isValidProperties = (property: string, value: any): boolean => {\n  if (typeof property !== 'string') return false;\n  if (Array.isArray(value)) {\n    let isValid = true;\n    for (const valueElement of value) {\n      if (Array.isArray(valueElement)) {\n        return false;\n      } else if (typeof valueElement === 'object') {\n        isValid = isValid && isValidObject(valueElement as object);\n      } else if (!['number', 'string'].includes(typeof valueElement)) {\n        return false;\n      }\n      if (!isValid) {\n        return false;\n      }\n    }\n  } else if (value === null || value === undefined) {\n    return false;\n  } else if (typeof value === 'object') {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    return isValidObject(value);\n  } else if (!['number', 'string', 'boolean'].includes(typeof value)) {\n    return false;\n  }\n  return true;\n};\n"],"names":[],"mappings":";;;;;;AAAA,IAAM,iBAAiB,GAAG,IAAI,CAAC;AAExB,IAAM,aAAa,GAAG,SAAC,UAAkC;IAC9D,IAAI,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,GAAG,iBAAiB,EAAE;QACtD,OAAO,KAAK,CAAC;KACd;IACD,IAAK,IAAM,GAAG,IAAI,UAAU,CAAE;QAC5B,mEAAmE;QACnE,IAAM,KAAK,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;QAC9B,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,OAAO,KAAK,CAAC;KAClD;IACD,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AAEK,IAAM,iBAAiB,GAAG,SAAC,QAAgB,EAAE,KAAU;;IAC5D,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE,OAAO,KAAK,CAAC;IAC/C,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;QACxB,IAAI,OAAO,GAAG,IAAI,CAAC;;YACnB,IAA2B,IAAA,wJAAA,WAAA,EAAA,KAAK,CAAA,EAAA,YAAA,QAAA,IAAA,EAAA,EAAA,CAAA,UAAA,IAAA,EAAA,YAAA,QAAA,IAAA,GAAE;gBAA7B,IAAM,YAAY,GAAA,UAAA,KAAA;gBACrB,IAAI,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;oBAC/B,OAAO,KAAK,CAAC;iBACd,MAAM,IAAI,OAAO,YAAY,KAAK,QAAQ,EAAE;oBAC3C,OAAO,GAAG,OAAO,IAAI,aAAa,CAAC,YAAsB,CAAC,CAAC;iBAC5D,MAAM,IAAI,CAAC;oBAAC,QAAQ;oBAAE,QAAQ;iBAAC,CAAC,QAAQ,CAAC,OAAO,YAAY,CAAC,EAAE;oBAC9D,OAAO,KAAK,CAAC;iBACd;gBACD,IAAI,CAAC,OAAO,EAAE;oBACZ,OAAO,KAAK,CAAC;iBACd;aACF;;;;;;;;;;;;KACF,MAAM,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,SAAS,EAAE;QAChD,OAAO,KAAK,CAAC;KACd,MAAM,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;QACpC,iEAAiE;QACjE,OAAO,aAAa,CAAC,KAAK,CAAC,CAAC;KAC7B,MAAM,IAAI,CAAC;QAAC,QAAQ;QAAE,QAAQ;QAAE,SAAS;KAAC,CAAC,QAAQ,CAAC,OAAO,KAAK,CAAC,EAAE;QAClE,OAAO,KAAK,CAAC;KACd;IACD,OAAO,IAAI,CAAC;AACd,CAAC,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"file":"identify.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/identify.ts"],"sourcesContent":["import { UNSET_VALUE } from './types/constants';\nimport { isValidProperties } from './utils/valid-properties';\n\nexport interface IIdentify {\n  getUserProperties(): IdentifyUserProperties;\n  set(property: string, value: ValidPropertyType): IIdentify;\n  setOnce(property: string, value: ValidPropertyType): IIdentify;\n  append(property: string, value: ValidPropertyType): IIdentify;\n  prepend(property: string, value: ValidPropertyType): IIdentify;\n  postInsert(property: string, value: ValidPropertyType): IIdentify;\n  preInsert(property: string, value: ValidPropertyType): IIdentify;\n  remove(property: string, value: ValidPropertyType): IIdentify;\n  add(property: string, value: number): IIdentify;\n  unset(property: string): IIdentify;\n  clearAll(): IIdentify;\n}\n\nexport class Identify implements IIdentify {\n  protected readonly _propertySet: Set<string> = new Set<string>();\n  protected _properties: IdentifyUserProperties = {};\n\n  public getUserProperties(): IdentifyUserProperties {\n    return { ...this._properties };\n  }\n\n  public set(property: string, value: ValidPropertyType): Identify {\n    this._safeSet(IdentifyOperation.SET, property, value);\n    return this;\n  }\n\n  public setOnce(property: string, value: ValidPropertyType): Identify {\n    this._safeSet(IdentifyOperation.SET_ONCE, property, value);\n    return this;\n  }\n\n  public append(property: string, value: ValidPropertyType): Identify {\n    this._safeSet(IdentifyOperation.APPEND, property, value);\n    return this;\n  }\n\n  public prepend(property: string, value: ValidPropertyType): Identify {\n    this._safeSet(IdentifyOperation.PREPEND, property, value);\n    return this;\n  }\n\n  public postInsert(property: string, value: ValidPropertyType): Identify {\n    this._safeSet(IdentifyOperation.POSTINSERT, property, value);\n    return this;\n  }\n\n  public preInsert(property: string, value: ValidPropertyType): Identify {\n    this._safeSet(IdentifyOperation.PREINSERT, property, value);\n    return this;\n  }\n\n  public remove(property: string, value: ValidPropertyType): Identify {\n    this._safeSet(IdentifyOperation.REMOVE, property, value);\n    return this;\n  }\n\n  public add(property: string, value: number): Identify {\n    this._safeSet(IdentifyOperation.ADD, property, value);\n    return this;\n  }\n\n  public unset(property: string): Identify {\n    this._safeSet(IdentifyOperation.UNSET, property, UNSET_VALUE);\n    return this;\n  }\n\n  public clearAll(): Identify {\n    // When clear all happens, all properties are unset. Reset the entire object.\n    this._properties = {};\n    this._properties[IdentifyOperation.CLEAR_ALL] = UNSET_VALUE;\n\n    return this;\n  }\n\n  // Returns whether or not this set actually worked.\n  private _safeSet(operation: IdentifyOperation, property: string, value: ValidPropertyType): boolean {\n    if (this._validate(operation, property, value)) {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      let userPropertyMap: any = this._properties[operation];\n      if (userPropertyMap === undefined) {\n        userPropertyMap = {};\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        this._properties[operation] = userPropertyMap;\n      }\n\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      userPropertyMap[property] = value;\n      this._propertySet.add(property);\n      return true;\n    }\n\n    return false;\n  }\n\n  private _validate(operation: IdentifyOperation, property: string, value: ValidPropertyType): boolean {\n    if (this._properties[IdentifyOperation.CLEAR_ALL] !== undefined) {\n      // clear all already set. Skipping operation;\n      return false;\n    }\n\n    if (this._propertySet.has(property)) {\n      // Property already used. Skipping operation\n      return false;\n    }\n\n    if (operation === IdentifyOperation.ADD) {\n      return typeof value === 'number';\n    }\n\n    if (operation !== IdentifyOperation.UNSET && operation !== IdentifyOperation.REMOVE) {\n      return isValidProperties(property, value);\n    }\n    return true;\n  }\n}\n\nexport type ValidPropertyType =\n  | number\n  | string\n  | boolean\n  | Array<string | number>\n  | { [key: string]: ValidPropertyType }\n  | Array<{ [key: string]: ValidPropertyType }>;\n\ninterface BaseOperationConfig {\n  [key: string]: ValidPropertyType;\n}\n\nexport interface IdentifyUserProperties {\n  // Add operations can only take numbers\n  [IdentifyOperation.ADD]?: { [key: string]: number };\n\n  // This reads the keys of the passed object, but the values are not used\n  [IdentifyOperation.UNSET]?: BaseOperationConfig;\n  // This option does not read the key as it unsets all user properties\n  [IdentifyOperation.CLEAR_ALL]?: any;\n\n  // These operations can take numbers, strings, or arrays of both.\n  [IdentifyOperation.SET]?: BaseOperationConfig;\n  [IdentifyOperation.SET_ONCE]?: BaseOperationConfig;\n  [IdentifyOperation.APPEND]?: BaseOperationConfig;\n  [IdentifyOperation.PREPEND]?: BaseOperationConfig;\n  [IdentifyOperation.POSTINSERT]?: BaseOperationConfig;\n  [IdentifyOperation.PREINSERT]?: BaseOperationConfig;\n  [IdentifyOperation.REMOVE]?: BaseOperationConfig;\n}\n\nexport enum IdentifyOperation {\n  // Base Operations to set values\n  SET = '$set',\n  SET_ONCE = '$setOnce',\n\n  // Operations around modifying existing values\n  ADD = '$add',\n  APPEND = '$append',\n  PREPEND = '$prepend',\n  REMOVE = '$remove',\n\n  // Operations around appending values *if* they aren't present\n  PREINSERT = '$preInsert',\n  POSTINSERT = '$postInsert',\n\n  // Operations around removing properties/values\n  UNSET = '$unset',\n  CLEAR_ALL = '$clearAll',\n}\n\n/**\n * Note that the order of operations should align with https://github.com/amplitude/nova/blob/7701b5986b565d4b2fb53b99a9f2175df055dea8/src/main/java/com/amplitude/ingestion/core/UserPropertyUtils.java#L210\n */\nexport const OrderedIdentifyOperations = [\n  IdentifyOperation.CLEAR_ALL,\n  IdentifyOperation.UNSET,\n  IdentifyOperation.SET,\n  IdentifyOperation.SET_ONCE,\n  IdentifyOperation.ADD,\n  IdentifyOperation.APPEND,\n  IdentifyOperation.PREPEND,\n  IdentifyOperation.PREINSERT,\n  IdentifyOperation.POSTINSERT,\n  IdentifyOperation.REMOVE,\n];\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 418, "column": 0}, "map": {"version":3,"file":"messages.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/types/messages.ts"],"sourcesContent":["export const SUCCESS_MESSAGE = 'Event tracked successfully';\nexport const UNEXPECTED_ERROR_MESSAGE = 'Unexpected error occurred';\nexport const MAX_RETRIES_EXCEEDED_MESSAGE = 'Event rejected due to exceeded retry count';\nexport const OPT_OUT_MESSAGE = 'Event skipped due to optOut config';\nexport const MISSING_API_KEY_MESSAGE = 'Event rejected due to missing API key';\nexport const INVALID_API_KEY = 'Invalid API key';\nexport const CLIENT_NOT_INITIALIZED = 'Client not initialized';\n"],"names":[],"mappings":";;;;;;;;;AAAO,IAAM,eAAe,GAAG,4BAA4B,CAAC;AACrD,IAAM,wBAAwB,GAAG,2BAA2B,CAAC;AAC7D,IAAM,4BAA4B,GAAG,4CAA4C,CAAC;AAClF,IAAM,eAAe,GAAG,oCAAoC,CAAC;AAC7D,IAAM,uBAAuB,GAAG,uCAAuC,CAAC;AACxE,IAAM,eAAe,GAAG,iBAAiB,CAAC;AAC1C,IAAM,sBAAsB,GAAG,wBAAwB,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 440, "column": 0}, "map": {"version":3,"file":"status.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/types/status.ts"],"sourcesContent":["/** The status of an event. */\nexport enum Status {\n  /** The status could not be determined. */\n  Unknown = 'unknown',\n  /** The event was skipped due to configuration or callbacks. */\n  Skipped = 'skipped',\n  /** The event was sent successfully. */\n  Success = 'success',\n  /** A user or device in the payload is currently rate limited and should try again later. */\n  RateLimit = 'rate_limit',\n  /** The sent payload was too large to be processed. */\n  PayloadTooLarge = 'payload_too_large',\n  /** The event could not be processed. */\n  Invalid = 'invalid',\n  /** A server-side error ocurred during submission. */\n  Failed = 'failed',\n  /** a server or client side error occuring when a request takes too long and is cancelled */\n  Timeout = 'Timeout',\n  /** NodeJS runtime environment error.. E.g. disconnected from network */\n  SystemError = 'SystemError',\n}\n"],"names":[],"mappings":"AAAA,4BAAA,EAA8B;;;AAC9B,IAAY,MAmBX;AAnBD,CAAA,SAAY,MAAM;IAChB,wCAAA,EAA0C,CAC1C,MAAA,CAAA,UAAA,GAAA,SAAmB,CAAA;IACnB,6DAAA,EAA+D,CAC/D,MAAA,CAAA,UAAA,GAAA,SAAmB,CAAA;IACnB,qCAAA,EAAuC,CACvC,MAAA,CAAA,UAAA,GAAA,SAAmB,CAAA;IACnB,0FAAA,EAA4F,CAC5F,MAAA,CAAA,YAAA,GAAA,YAAwB,CAAA;IACxB,oDAAA,EAAsD,CACtD,MAAA,CAAA,kBAAA,GAAA,mBAAqC,CAAA;IACrC,sCAAA,EAAwC,CACxC,MAAA,CAAA,UAAA,GAAA,SAAmB,CAAA;IACnB,mDAAA,EAAqD,CACrD,MAAA,CAAA,SAAA,GAAA,QAAiB,CAAA;IACjB,0FAAA,EAA4F,CAC5F,MAAA,CAAA,UAAA,GAAA,SAAmB,CAAA;IACnB,sEAAA,EAAwE,CACxE,MAAA,CAAA,cAAA,GAAA,aAA2B,CAAA;AAC7B,CAAC,EAnBW,MAAM,IAAA,CAAN,MAAM,GAAA,CAAA,CAAA,GAmBjB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 461, "column": 0}, "map": {"version":3,"file":"result-builder.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/utils/result-builder.ts"],"sourcesContent":["import { Event } from '../types/event/event';\nimport { Result } from '../types/result';\nimport { Status } from '../types/status';\n\nexport const buildResult = (event: Event, code = 0, message: string = Status.Unknown): Result => {\n  return { event, code, message };\n};\n"],"names":[],"mappings":";;;AAEA,OAAO,EAAE,MAAM,EAAE,MAAM,iBAAiB,CAAC;;AAElC,IAAM,WAAW,GAAG,SAAC,KAAY,EAAE,IAAQ,EAAE,OAAgC;IAA1C,IAAA,SAAA,KAAA,GAAA;QAAA,OAAA,CAAQ;IAAA;IAAE,IAAA,YAAA,KAAA,GAAA;QAAA,+LAAkB,SAAM,CAAC,OAAO;IAAA;IAClF,OAAO;QAAE,KAAK,EAAA,KAAA;QAAE,IAAI,EAAA,IAAA;QAAE,OAAO,EAAA,OAAA;IAAA,CAAE,CAAC;AAClC,CAAC,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 485, "column": 0}, "map": {"version":3,"file":"global-scope.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/global-scope.ts"],"sourcesContent":["/* eslint-disable no-restricted-globals */\n/* Only file allowed to access to globalThis, window, self */\n\nexport const getGlobalScope = (): typeof globalThis | undefined => {\n  // This should only be used for integrations with Amplitude that are not running in a browser environment\n  //   We need to specify the name of the global variable as a string to prevent it from being minified\n  const ampIntegrationContextName = 'ampIntegrationContext' as keyof typeof globalThis;\n  if (typeof globalThis !== 'undefined' && typeof globalThis[ampIntegrationContextName] !== 'undefined') {\n    return globalThis[ampIntegrationContextName] as typeof globalThis;\n  }\n  if (typeof globalThis !== 'undefined') {\n    return globalThis;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n  return undefined;\n};\n"],"names":[],"mappings":"AAAA,wCAAA,EAA0C,CAC1C,2DAAA,EAA6D;;;AAEtD,IAAM,cAAc,GAAG;IAC5B,yGAAyG;IACzG,qGAAqG;IACrG,IAAM,yBAAyB,GAAG,uBAAkD,CAAC;IACrF,IAAI,OAAO,UAAU,KAAK,WAAW,IAAI,OAAO,UAAU,CAAC,yBAAyB,CAAC,KAAK,WAAW,EAAE;QACrG,OAAO,UAAU,CAAC,yBAAyB,CAAsB,CAAC;KACnE;IACD,IAAI,OAAO,UAAU,KAAK,WAAW,EAAE;QACrC,OAAO,UAAU,CAAC;KACnB;IACD,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;QACjC,OAAO,MAAM,CAAC;KACf;IACD,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;QAC/B,OAAO,IAAI,CAAC;KACb;IACD,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;QACjC,OAAO,MAAM,CAAC;KACf;IACD,OAAO,SAAS,CAAC;AACnB,CAAC,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 515, "column": 0}, "map": {"version":3,"file":"uuid.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/utils/uuid.ts"],"sourcesContent":["/**\n * Source: [jed's gist's comment]{@link https://gist.github.com/jed/982883?permalink_comment_id=3223002#gistcomment-3223002}.\n * Returns a random v4 UUID of the form xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx,\n * where each x is replaced with a random hexadecimal digit from 0 to f, and\n * y is replaced with a random hexadecimal digit from 8 to b.\n * Used to generate UUIDs for deviceIds.\n * @private\n */\n\nimport { getGlobalScope } from '../global-scope';\n\nconst legacyUUID = function (a?: any): string {\n  return a // if the placeholder was passed, return\n    ? // a random number from 0 to 15\n      (\n        a ^ // unless b is 8,\n        ((Math.random() * // in which case\n          16) >> // a random number from\n          (a / 4))\n      ) // 8 to 11\n        .toString(16) // in hexadecimal\n    : // or otherwise a concatenated string:\n      (\n        String(1e7) + // 10000000 +\n        String(-1e3) + // -1000 +\n        String(-4e3) + // -4000 +\n        String(-8e3) + // -80000000 +\n        String(-1e11)\n      ) // -100000000000,\n        .replace(\n          // replacing\n          /[018]/g, // zeroes, ones, and eights with\n          UUID, // random hex digits\n        );\n};\n\nconst hex: string[] = [...Array(256).keys()].map((index) => index.toString(16).padStart(2, '0'));\n\nexport const UUID = (a?: any): string => {\n  const globalScope = getGlobalScope();\n\n  /* istanbul ignore next */\n  if (!globalScope?.crypto?.getRandomValues) {\n    // Fallback to legacy UUID generation if crypto is not available\n    return legacyUUID(a);\n  }\n\n  const r = globalScope.crypto.getRandomValues(new Uint8Array(16));\n\n  r[6] = (r[6] & 0x0f) | 0x40;\n  r[8] = (r[8] & 0x3f) | 0x80;\n\n  return [...r.entries()].map(([index, int]) => ([4, 6, 8, 10].includes(index) ? `-${hex[int]}` : hex[int])).join('');\n};\n"],"names":[],"mappings":"AAAA;;;;;;;GAOG;;;;AAEH,OAAO,EAAE,cAAc,EAAE,MAAM,iBAAiB,CAAC;;;AAEjD,IAAM,UAAU,GAAG,SAAU,CAAO;IAClC,OAAO,CAAC,CAAC,wCAAwC;OAE7C,CACE,CAAC,GAAG,AACH,AAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CADG,eACa;IAChC,EAAE,CAAC,GACF,CADM,AACL,GAAG,CAAC,AAAE,CAAD,AACV,CAAC,UAAU,OAFsB;KAG/B,QAAQ,CAAC,EAAE,CAAC,CAAC,iBAAiB;OAEjC,CACE,MAAM,CAAC,GAAG,CAAC,GAAG,aAAa;IAC3B,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,UAAU;IACzB,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,UAAU;IACzB,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,cAAc;IAC7B,MAAM,CAAC,CAAC,IAAI,CAAC,CACd,CAAC,iBAAiB;KAChB,OAAO,CACN,YAAY;IACZ,QAAQ,EAAE,AACV,IAAI,CACL,CAAC,0BAF0C;AAGpD,CAAC,CAAC;AAEF,IAAM,GAAG,GAAa,8JAAA,EAAA,EAAA,EAAA,CAAA,GAAA,yIAAA,CAAA,SAAA,EAAI,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,GAAA,OAAE,GAAG,CAAC,SAAC,KAAK;IAAK,OAAA,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;AAAnC,CAAmC,CAAC,CAAC;AAE1F,IAAM,IAAI,GAAG,SAAC,CAAO;;IAC1B,IAAM,WAAW,IAAG,yMAAA,AAAc,EAAE,CAAC;IAErC,wBAAA,EAA0B,CAC1B,IAAI,CAAC,CAAA,CAAA,KAAA,WAAW,KAAA,QAAX,WAAW,KAAA,KAAA,IAAA,KAAA,IAAX,WAAW,CAAE,MAAM,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,eAAe,CAAA,EAAE;QACzC,gEAAgE;QAChE,OAAO,UAAU,CAAC,CAAC,CAAC,CAAC;KACtB;IAED,IAAM,CAAC,GAAG,WAAW,CAAC,MAAM,CAAC,eAAe,CAAC,IAAI,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC;IAEjE,CAAC,CAAC,CAAC,CAAC,GAAG,AAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,EAAG,IAAI,CAAC;IAC5B,CAAC,CAAC,CAAC,CAAC,GAAG,AAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,EAAG,IAAI,CAAC;IAE5B,qJAAO,gBAAA,EAAA,EAAA,EAAA,CAAA,GAAA,yIAAA,CAAA,SAAA,EAAI,CAAC,CAAC,OAAO,EAAE,GAAA,OAAE,GAAG,CAAC,SAAC,EAAY;YAAZ,mJAAA,SAAA,EAAA,IAAA,EAAY,EAAX,KAAK,GAAA,EAAA,CAAA,EAAA,EAAE,GAAG,GAAA,EAAA,CAAA,EAAA;QAAM,OAAA,AAAC;YAAC,CAAC;YAAE,CAAC;YAAE,CAAC;YAAE,EAAE;SAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAA,MAAA,CAAI,GAAG,CAAC,GAAG,CAAC,CAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAA3D,CAA2D,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACtH,CAAC,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 571, "column": 0}, "map": {"version":3,"file":"timeline.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/timeline.ts"],"sourcesContent":["import { AnalyticsIdentity, BeforePlugin, DestinationPlugin, EnrichmentPlugin, Plugin } from './types/plugin';\nimport { CoreClient } from './core-client';\nimport { IConfig } from './config';\nimport { EventCallback } from './types/event-callback';\nimport { Event } from './types/event/event';\nimport { Result } from './types/result';\nimport { buildResult } from './utils/result-builder';\nimport { UUID } from './utils/uuid';\n\nexport class Timeline {\n  queue: [Event, EventCallback][] = [];\n  // Flag to guarantee one schedule apply is running\n  applying = false;\n  // Flag indicates whether timeline is ready to process event\n  // Events collected before timeline is ready will stay in the queue to be processed later\n  plugins: Plugin[] = [];\n\n  constructor(private client: CoreClient) {}\n\n  async register(plugin: Plugin, config: IConfig) {\n    if (this.plugins.some((existingPlugin) => existingPlugin.name === plugin.name)) {\n      // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n      config.loggerProvider.warn(`Plugin with name ${plugin.name} already exists, skipping registration`);\n      return;\n    }\n\n    if (plugin.name === undefined) {\n      plugin.name = UUID();\n      config.loggerProvider.warn(`Plugin name is undefined. \n      Generating a random UUID for plugin name: ${plugin.name}. \n      Set a name for the plugin to prevent it from being added multiple times.`);\n    }\n\n    plugin.type = plugin.type ?? 'enrichment';\n    await plugin.setup?.(config, this.client);\n    this.plugins.push(plugin);\n  }\n\n  async deregister(pluginName: string, config: IConfig) {\n    const index = this.plugins.findIndex((plugin) => plugin.name === pluginName);\n    if (index === -1) {\n      config.loggerProvider.warn(`Plugin with name ${pluginName} does not exist, skipping deregistration`);\n      return;\n    }\n    const plugin = this.plugins[index];\n    this.plugins.splice(index, 1);\n    await plugin.teardown?.();\n  }\n\n  reset(client: CoreClient) {\n    this.applying = false;\n    const plugins = this.plugins;\n    plugins.map((plugin) => plugin.teardown?.());\n    this.plugins = [];\n    this.client = client;\n  }\n\n  push(event: Event) {\n    return new Promise<Result>((resolve) => {\n      this.queue.push([event, resolve]);\n      this.scheduleApply(0);\n    });\n  }\n\n  scheduleApply(timeout: number) {\n    if (this.applying) return;\n    this.applying = true;\n    setTimeout(() => {\n      void this.apply(this.queue.shift()).then(() => {\n        this.applying = false;\n        if (this.queue.length > 0) {\n          this.scheduleApply(0);\n        }\n      });\n    }, timeout);\n  }\n\n  async apply(item: [Event, EventCallback] | undefined) {\n    if (!item) {\n      return;\n    }\n\n    let [event] = item;\n    const [, resolve] = item;\n\n    const before = this.plugins.filter<BeforePlugin>(\n      (plugin: Plugin): plugin is BeforePlugin => plugin.type === 'before',\n    );\n\n    for (const plugin of before) {\n      /* istanbul ignore if */\n      if (!plugin.execute) {\n        // do nothing\n        continue;\n      }\n      const e = await plugin.execute({ ...event });\n      if (e === null) {\n        resolve({ event, code: 0, message: '' });\n        return;\n      } else {\n        event = e;\n      }\n    }\n\n    const enrichment = this.plugins.filter<EnrichmentPlugin>(\n      (plugin: Plugin): plugin is EnrichmentPlugin => plugin.type === 'enrichment' || plugin.type === undefined,\n    );\n\n    for (const plugin of enrichment) {\n      /* istanbul ignore if */\n      if (!plugin.execute) {\n        // do nothing\n        continue;\n      }\n      const e = await plugin.execute({ ...event });\n      if (e === null) {\n        resolve({ event, code: 0, message: '' });\n        return;\n      } else {\n        event = e;\n      }\n    }\n\n    const destination = this.plugins.filter<DestinationPlugin>(\n      (plugin: Plugin): plugin is DestinationPlugin => plugin.type === 'destination',\n    );\n\n    const executeDestinations = destination.map((plugin) => {\n      const eventClone = { ...event };\n      return plugin.execute(eventClone).catch((e) => buildResult(eventClone, 0, String(e)));\n    });\n\n    void Promise.all(executeDestinations).then(([result]) => {\n      const resolveResult =\n        result || buildResult(event, 100, 'Event not tracked, no destination plugins on the instance');\n      resolve(resolveResult);\n    });\n\n    return;\n  }\n\n  async flush() {\n    const queue = this.queue;\n    this.queue = [];\n\n    await Promise.all(queue.map((item) => this.apply(item)));\n\n    const destination = this.plugins.filter<DestinationPlugin>(\n      (plugin: Plugin): plugin is DestinationPlugin => plugin.type === 'destination',\n    );\n\n    const executeDestinations = destination.map((plugin) => {\n      return plugin.flush && plugin.flush();\n    });\n\n    await Promise.all(executeDestinations);\n  }\n\n  onIdentityChanged(identity: AnalyticsIdentity) {\n    this.plugins.forEach((plugin) => {\n      // Intentionally to not await plugin.onIdentityChanged() for non-blocking.\n      // Ignore optional channing next line for test coverage.\n      // If the plugin doesn't implement it, it won't be called.\n      /* istanbul ignore next */\n      void plugin.onIdentityChanged?.(identity);\n    });\n  }\n\n  onSessionIdChanged(sessionId: number) {\n    this.plugins.forEach((plugin) => {\n      // Intentionally to not await plugin.onSessionIdChanged() for non-blocking.\n      // Ignore optional channing next line for test coverage.\n      // If the plugin doesn't implement it, it won't be called.\n      /* istanbul ignore next */\n      void plugin.onSessionIdChanged?.(sessionId);\n    });\n  }\n\n  onOptOutChanged(optOut: boolean) {\n    this.plugins.forEach((plugin) => {\n      // Intentionally to not await plugin.onOptOutChanged() for non-blocking.\n      // Ignore optional channing next line for test coverage.\n      // If the plugin doesn't implement it, it won't be called.\n      /* istanbul ignore next */\n      void plugin.onOptOutChanged?.(optOut);\n    });\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 946, "column": 0}, "map": {"version":3,"file":"event-builder.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/utils/event-builder.ts"],"sourcesContent":["import { Identify, IIdentify } from '../identify';\nimport { IRevenue } from '../revenue';\nimport { BaseEvent, EventOptions } from '../types/event/base-event';\nimport { TrackEvent, IdentifyEvent, GroupIdentifyEvent, SpecialEventType, RevenueEvent } from '../types/event/event';\n\nexport const createTrackEvent = (\n  eventInput: BaseEvent | string,\n  eventProperties?: Record<string, any>,\n  eventOptions?: EventOptions,\n): TrackEvent => {\n  const baseEvent: BaseEvent = typeof eventInput === 'string' ? { event_type: eventInput } : eventInput;\n  return {\n    ...baseEvent,\n    ...eventOptions,\n    ...(eventProperties && { event_properties: eventProperties }),\n  };\n};\n\nexport const createIdentifyEvent = (identify: IIdentify, eventOptions?: EventOptions): IdentifyEvent => {\n  const identifyEvent: IdentifyEvent = {\n    ...eventOptions,\n    event_type: SpecialEventType.IDENTIFY,\n    user_properties: identify.getUserProperties(),\n  };\n\n  return identifyEvent;\n};\n\nexport const createGroupIdentifyEvent = (\n  groupType: string,\n  groupName: string | string[],\n  identify: IIdentify,\n  eventOptions?: EventOptions,\n): GroupIdentifyEvent => {\n  const groupIdentify: GroupIdentifyEvent = {\n    ...eventOptions,\n    event_type: SpecialEventType.GROUP_IDENTIFY,\n    group_properties: identify.getUserProperties(),\n    groups: {\n      [groupType]: groupName,\n    },\n  };\n\n  return groupIdentify;\n};\n\nexport const createGroupEvent = (groupType: string, groupName: string | string[], eventOptions?: EventOptions) => {\n  const identify = new Identify();\n  identify.set(groupType, groupName);\n\n  const groupEvent: IdentifyEvent = {\n    ...eventOptions,\n    event_type: SpecialEventType.IDENTIFY,\n    user_properties: identify.getUserProperties(),\n    groups: {\n      [groupType]: groupName,\n    },\n  };\n  return groupEvent;\n};\n\nexport const createRevenueEvent = (revenue: IRevenue, eventOptions?: EventOptions): RevenueEvent => {\n  return {\n    ...eventOptions,\n    event_type: SpecialEventType.REVENUE,\n    event_properties: revenue.getEventProperties(),\n  };\n};\n"],"names":[],"mappings":";;;;;;;;AAAA,OAAO,EAAE,QAAQ,EAAa,MAAM,aAAa,CAAC;AAGlD,OAAO,EAAiD,gBAAgB,EAAgB,MAAM,sBAAsB,CAAC;;;;AAE9G,IAAM,gBAAgB,GAAG,SAC9B,UAA8B,EAC9B,eAAqC,EACrC,YAA2B;IAE3B,IAAM,SAAS,GAAc,OAAO,UAAU,KAAK,QAAQ,CAAC,CAAC,CAAC;QAAE,UAAU,EAAE,UAAU;IAAA,CAAE,CAAC,CAAC,CAAC,UAAU,CAAC;IACtG,OAAA,CAAA,GAAA,yIAAA,CAAA,WAAA,EAAA,CAAA,GAAA,yIAAA,CAAA,WAAA,EAAA,CAAA,GAAA,yIAAA,CAAA,WAAA,EAAA,CAAA,GACK,SAAS,GACT,YAAY,GACZ,AAAC,eAAe,IAAI;QAAE,gBAAgB,EAAE,eAAe;IAAA,CAAE,CAAC,EAC7D;AACJ,CAAC,CAAC;AAEK,IAAM,mBAAmB,GAAG,SAAC,QAAmB,EAAE,YAA2B;IAClF,IAAM,aAAa,GAAA,CAAA,GAAA,yIAAA,CAAA,WAAA,EAAA,CAAA,GAAA,yIAAA,CAAA,WAAA,EAAA,CAAA,GACd,YAAY,GAAA;QACf,UAAU,EAAE,gNAAgB,CAAC,QAAQ;QACrC,eAAe,EAAE,QAAQ,CAAC,iBAAiB,EAAE;IAAA,EAC9C,CAAC;IAEF,OAAO,aAAa,CAAC;AACvB,CAAC,CAAC;AAEK,IAAM,wBAAwB,GAAG,SACtC,SAAiB,EACjB,SAA4B,EAC5B,QAAmB,EACnB,YAA2B;;IAE3B,IAAM,aAAa,GAAA,CAAA,GAAA,yIAAA,CAAA,WAAA,EAAA,CAAA,GAAA,yIAAA,CAAA,WAAA,EAAA,CAAA,GACd,YAAY,GAAA;QACf,UAAU,+LAAE,mBAAgB,CAAC,cAAc;QAC3C,gBAAgB,EAAE,QAAQ,CAAC,iBAAiB,EAAE;QAC9C,MAAM,EAAA,CAAA,KAAA,CAAA,GACJ,EAAA,CAAC,SAAS,CAAA,GAAG,SAAS;MAEzB,CAAC;IAEF,OAAO,aAAa,CAAC;AACvB,CAAC,CAAC;AAEK,IAAM,gBAAgB,GAAG,SAAC,SAAiB,EAAE,SAA4B,EAAE,YAA2B;;IAC3G,IAAM,QAAQ,GAAG,kLAAI,WAAQ,EAAE,CAAC;IAChC,QAAQ,CAAC,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;IAEnC,IAAM,UAAU,GAAA,CAAA,GAAA,yIAAA,CAAA,WAAA,EAAA,CAAA,GAAA,yIAAA,CAAA,WAAA,EAAA,CAAA,GACX,YAAY,GAAA;QACf,UAAU,+LAAE,mBAAgB,CAAC,QAAQ;QACrC,eAAe,EAAE,QAAQ,CAAC,iBAAiB,EAAE;QAC7C,MAAM,EAAA,CAAA,KAAA,CAAA,GACJ,EAAA,CAAC,SAAS,CAAA,GAAG,SAAS;MAEzB,CAAC;IACF,OAAO,UAAU,CAAC;AACpB,CAAC,CAAC;AAEK,IAAM,kBAAkB,GAAG,SAAC,OAAiB,EAAE,YAA2B;IAC/E,OAAA,CAAA,GAAA,yIAAA,CAAA,WAAA,EAAA,CAAA,GAAA,yIAAA,CAAA,WAAA,EAAA,CAAA,GACK,YAAY,GAAA;QACf,UAAU,+LAAE,mBAAgB,CAAC,OAAO;QACpC,gBAAgB,EAAE,OAAO,CAAC,kBAAkB,EAAE;IAAA,GAC9C;AACJ,CAAC,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1006, "column": 0}, "map": {"version":3,"file":"return-wrapper.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/utils/return-wrapper.ts"],"sourcesContent":["export interface AmplitudeReturn<T> {\n  promise: Promise<T>;\n}\n\nexport const returnWrapper: {\n  (): AmplitudeReturn<void>;\n  <T>(awaitable: Promise<T>): AmplitudeReturn<T>;\n} = <T>(awaitable?: Promise<T>) => ({\n  promise: awaitable || Promise.resolve(),\n});\n"],"names":[],"mappings":";;;AAIO,IAAM,aAAa,GAGtB,SAAI,SAAsB;IAAK,OAAA,AAAC;QAClC,OAAO,EAAE,SAAS,IAAI,OAAO,CAAC,OAAO,EAAE;KACxC,CAAC;AAFiC,CAEjC,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1020, "column": 0}, "map": {"version":3,"file":"core-client.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/core-client.ts"],"sourcesContent":["import { Plugin } from './types/plugin';\nimport { IConfig } from './config';\nimport { BaseEvent, EventOptions } from './types/event/base-event';\nimport { Result } from './types/result';\nimport {\n  Event,\n  IdentifyOperation,\n  IdentifyUserProperties,\n  SpecialEventType,\n  UserProperties,\n} from './types/event/event';\nimport { IIdentify, OrderedIdentifyOperations } from './identify';\nimport { IRevenue } from './revenue';\nimport { CLIENT_NOT_INITIALIZED, OPT_OUT_MESSAGE } from './types/messages';\nimport { Timeline } from './timeline';\nimport {\n  createGroupEvent,\n  createGroupIdentifyEvent,\n  createIdentifyEvent,\n  createRevenueEvent,\n  createTrackEvent,\n} from './utils/event-builder';\nimport { buildResult } from './utils/result-builder';\nimport { AmplitudeReturn, returnWrapper } from './utils/return-wrapper';\n\ninterface PluginHost {\n  plugin(name: string): Plugin | undefined;\n  plugins<T extends Plugin>(pluginClass: new (...args: any[]) => T): T[];\n}\n\nexport interface CoreClient {\n  /**\n   * Adds a new plugin.\n   *\n   * ```typescript\n   * const plugin = {\n   *   name: 'myPlugin',\n   *   type: 'enrichment',\n   *   setup(config: Config) {\n   *     return;\n   *   },\n   *   execute(context: Event) {\n   *     return context;\n   *   },\n   * };\n   * amplitude.add(plugin);\n   * ```\n   */\n  add(plugin: Plugin): AmplitudeReturn<void>;\n\n  /**\n   * Removes a plugin.\n   *\n   * ```typescript\n   * amplitude.remove('myPlugin');\n   * ```\n   */\n  remove(pluginName: string): AmplitudeReturn<void>;\n\n  /**\n   * Tracks user-defined event, with specified type, optional event properties and optional overwrites.\n   *\n   * ```typescript\n   * // event tracking with event type only\n   * track('Page Load');\n   *\n   * // event tracking with event type and additional event properties\n   * track('Page Load', { loadTime: 1000 });\n   *\n   * // event tracking with event type, additional event properties, and overwritten event options\n   * track('Page Load', { loadTime: 1000 }, { sessionId: -1 });\n   *\n   * // alternatively, this tracking method is awaitable\n   * const result = await track('Page Load').promise;\n   * console.log(result.event); // {...}\n   * console.log(result.code); // 200\n   * console.log(result.message); // \"Event tracked successfully\"\n   * ```\n   */\n  track(\n    eventInput: BaseEvent | string,\n    eventProperties?: Record<string, any>,\n    eventOptions?: EventOptions,\n  ): AmplitudeReturn<Result>;\n\n  /**\n   * Alias for track()\n   */\n  logEvent(\n    eventInput: BaseEvent | string,\n    eventProperties?: Record<string, any>,\n    eventOptions?: EventOptions,\n  ): AmplitudeReturn<Result>;\n\n  /**\n   * Sends an identify event containing user property operations\n   *\n   * ```typescript\n   * const id = new Identify();\n   * id.set('colors', ['rose', 'gold']);\n   * identify(id);\n   *\n   * // alternatively, this tracking method is awaitable\n   * const result = await identify(id).promise;\n   * console.log(result.event); // {...}\n   * console.log(result.code); // 200\n   * console.log(result.message); // \"Event tracked successfully\"\n   * ```\n   */\n  identify(identify: IIdentify, eventOptions?: EventOptions): AmplitudeReturn<Result>;\n\n  /**\n   * Sends a group identify event containing group property operations.\n   *\n   * ```typescript\n   * const id = new Identify();\n   * id.set('skills', ['js', 'ts']);\n   * const groupType = 'org';\n   * const groupName = 'engineering';\n   * groupIdentify(groupType, groupName, id);\n   *\n   * // alternatively, this tracking method is awaitable\n   * const result = await groupIdentify(groupType, groupName, id).promise;\n   * console.log(result.event); // {...}\n   * console.log(result.code); // 200\n   * console.log(result.message); // \"Event tracked successfully\"\n   * ```\n   */\n  groupIdentify(\n    groupType: string,\n    groupName: string | string[],\n    identify: IIdentify,\n    eventOptions?: EventOptions,\n  ): AmplitudeReturn<Result>;\n\n  /**\n   * Assigns a user to group\n   *\n   * ```typescript\n   * const groupType = 'orgId';\n   * const groupName = '15';\n   * setGroup(groupType, groupName, { user_id: '12345' })\n   * ```\n   */\n  setGroup(groupType: string, groupName: string | string[], eventOptions?: EventOptions): AmplitudeReturn<Result>;\n\n  /**\n   * Sends a revenue event containing revenue property operations.\n   *\n   * ```typescript\n   * const rev = new Revenue();\n   * rev.setRevenue(100);\n   * revenue(rev);\n   *\n   * // alternatively, this tracking method is awaitable\n   * const result = await revenue(rev).promise;\n   * console.log(result.event); // {...}\n   * console.log(result.code); // 200\n   * console.log(result.message); // \"Event tracked successfully\"\n   * ```\n   */\n  revenue(revenue: IRevenue, eventOptions?: EventOptions): AmplitudeReturn<Result>;\n\n  /**\n   * Sets a new optOut config value. This toggles event tracking on/off.\n   *\n   *```typescript\n   * // Stops tracking\n   * setOptOut(true);\n   *\n   * // Starts/resumes tracking\n   * setOptOut(false);\n   * ```\n   */\n  setOptOut(optOut: boolean): void;\n\n  /**\n   * Flush all unsent events.\n   *\n   *```typescript\n   * flush();\n   * ```\n   */\n  flush(): AmplitudeReturn<void>;\n}\n\nexport class AmplitudeCore implements CoreClient, PluginHost {\n  protected initializing = false;\n  protected name: string;\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  config: IConfig;\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  timeline: Timeline;\n  isReady = false;\n  protected q: Array<CallableFunction | typeof returnWrapper> = [];\n  protected dispatchQ: Array<CallableFunction> = [];\n\n  constructor(name = '$default') {\n    this.timeline = new Timeline(this);\n    this.name = name;\n  }\n\n  protected async _init(config: IConfig) {\n    this.config = config;\n    this.timeline.reset(this);\n    await this.runQueuedFunctions('q');\n    this.isReady = true;\n  }\n\n  async runQueuedFunctions(queueName: 'q' | 'dispatchQ') {\n    const queuedFunctions = this[queueName];\n    this[queueName] = [];\n    for (const queuedFunction of queuedFunctions) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      const val: ReturnType<typeof returnWrapper> | Promise<any> = queuedFunction();\n      if (val && 'promise' in val) {\n        await val.promise;\n      } else {\n        await val;\n      }\n    }\n    // Rerun queued functions if the queue has accrued more while awaiting promises\n    if (this[queueName].length) {\n      await this.runQueuedFunctions(queueName);\n    }\n  }\n\n  track(eventInput: BaseEvent | string, eventProperties?: Record<string, any>, eventOptions?: EventOptions) {\n    const event = createTrackEvent(eventInput, eventProperties, eventOptions);\n    return returnWrapper(this.dispatch(event));\n  }\n\n  logEvent = this.track.bind(this);\n\n  identify(identify: IIdentify, eventOptions?: EventOptions) {\n    const event = createIdentifyEvent(identify, eventOptions);\n    return returnWrapper(this.dispatch(event));\n  }\n\n  groupIdentify(groupType: string, groupName: string | string[], identify: IIdentify, eventOptions?: EventOptions) {\n    const event = createGroupIdentifyEvent(groupType, groupName, identify, eventOptions);\n    return returnWrapper(this.dispatch(event));\n  }\n\n  setGroup(groupType: string, groupName: string | string[], eventOptions?: EventOptions) {\n    const event = createGroupEvent(groupType, groupName, eventOptions);\n    return returnWrapper(this.dispatch(event));\n  }\n\n  revenue(revenue: IRevenue, eventOptions?: EventOptions) {\n    const event = createRevenueEvent(revenue, eventOptions);\n    return returnWrapper(this.dispatch(event));\n  }\n\n  add(plugin: Plugin) {\n    if (!this.isReady) {\n      this.q.push(this._addPlugin.bind(this, plugin));\n      return returnWrapper();\n    }\n    return this._addPlugin(plugin);\n  }\n\n  _addPlugin(plugin: Plugin) {\n    return returnWrapper(this.timeline.register(plugin, this.config));\n  }\n\n  remove(pluginName: string) {\n    if (!this.isReady) {\n      this.q.push(this._removePlugin.bind(this, pluginName));\n      return returnWrapper();\n    }\n    return this._removePlugin(pluginName);\n  }\n\n  _removePlugin(pluginName: string) {\n    return returnWrapper(this.timeline.deregister(pluginName, this.config));\n  }\n\n  dispatchWithCallback(event: Event, callback: (result: Result) => void): void {\n    if (!this.isReady) {\n      return callback(buildResult(event, 0, CLIENT_NOT_INITIALIZED));\n    }\n    void this.process(event).then(callback);\n  }\n\n  async dispatch(event: Event): Promise<Result> {\n    if (!this.isReady) {\n      return new Promise<Result>((resolve) => {\n        this.dispatchQ.push(this.dispatchWithCallback.bind(this, event, resolve));\n      });\n    }\n\n    return this.process(event);\n  }\n\n  /**\n   *\n   * This method applies identify operations to user properties and\n   * returns a single object representing the final user property state.\n   *\n   * This is a best-effort api that only supports $set, $clearAll, and $unset.\n   * Other operations are not supported and are ignored.\n   *\n   *\n   * @param userProperties The `event.userProperties` object from an Identify event.\n   * @returns A key-value object user properties without operations.\n   *\n   * @example\n   * Input:\n   * {\n   *   $set: { plan: 'premium' },\n   *   custom_flag: true\n   * }\n   *\n   * Output:\n   * {\n   *   plan: 'premium',\n   *   custom_flag: true\n   * }\n   */\n  getOperationAppliedUserProperties(userProperties: UserProperties | undefined): { [key: string]: any } {\n    const updatedProperties: { [key: string]: any } = {};\n\n    if (userProperties === undefined) {\n      return updatedProperties;\n    }\n\n    // Keep non-operation keys for later merge\n    const nonOpProperties: {\n      [key in Exclude<string, IdentifyOperation>]: any;\n    } = {};\n    Object.keys(userProperties).forEach((key) => {\n      if (!Object.values(IdentifyOperation).includes(key as IdentifyOperation)) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        nonOpProperties[key] = userProperties[key];\n      }\n    });\n\n    OrderedIdentifyOperations.forEach((operation) => {\n      // Skip when key is an operation.\n      if (!Object.keys(userProperties).includes(operation)) return;\n\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      const opProperties: IdentifyUserProperties = userProperties[operation];\n\n      switch (operation) {\n        case IdentifyOperation.CLEAR_ALL:\n          // Due to operation order, the following line will never execute.\n          /* istanbul ignore next */\n          Object.keys(updatedProperties).forEach((prop) => {\n            delete updatedProperties[prop];\n          });\n          break;\n        case IdentifyOperation.UNSET:\n          Object.keys(opProperties).forEach((prop) => {\n            delete updatedProperties[prop];\n          });\n          break;\n        case IdentifyOperation.SET:\n          Object.assign(updatedProperties, opProperties);\n          break;\n      }\n    });\n\n    // Merge non-operation properties.\n    // Custom properties should not be affected by operations.\n    // https://github.com/amplitude/nova/blob/343f678ded83c032e83b189796b3c2be161b48f5/src/main/java/com/amplitude/userproperty/model/ModifyUserPropertiesIdent.java#L79-L83\n    Object.assign(updatedProperties, nonOpProperties);\n\n    return updatedProperties;\n  }\n\n  async process(event: Event): Promise<Result> {\n    try {\n      // skip event processing if opt out\n      if (this.config.optOut) {\n        return buildResult(event, 0, OPT_OUT_MESSAGE);\n      }\n\n      if (event.event_type === SpecialEventType.IDENTIFY) {\n        const userProperties = this.getOperationAppliedUserProperties(event.user_properties);\n        this.timeline.onIdentityChanged({ userProperties: userProperties });\n      }\n\n      const result = await this.timeline.push(event);\n\n      result.code === 200\n        ? this.config.loggerProvider.log(result.message)\n        : result.code === 100\n        ? this.config.loggerProvider.warn(result.message)\n        : this.config.loggerProvider.error(result.message);\n\n      return result;\n    } catch (e) {\n      const message = String(e);\n      this.config.loggerProvider.error(message);\n      const result = buildResult(event, 0, message);\n\n      return result;\n    }\n  }\n\n  setOptOut(optOut: boolean) {\n    if (!this.isReady) {\n      this.q.push(this._setOptOut.bind(this, Boolean(optOut)));\n      return;\n    }\n    this._setOptOut(optOut);\n  }\n\n  _setOptOut(optOut: boolean) {\n    if (this.config.optOut !== optOut) {\n      this.timeline.onOptOutChanged(optOut);\n      this.config.optOut = Boolean(optOut);\n    }\n  }\n\n  flush() {\n    return returnWrapper(this.timeline.flush());\n  }\n\n  plugin(name: string): Plugin | undefined {\n    const plugin = this.timeline.plugins.find((plugin) => plugin.name === name);\n    if (plugin === undefined) {\n      this.config.loggerProvider.debug(`Cannot find plugin with name ${name}`);\n      return undefined;\n    }\n\n    return plugin;\n  }\n\n  plugins<T extends Plugin>(pluginClass: { new (...args: any[]): T }): T[] {\n    return this.timeline.plugins.filter((plugin) => plugin instanceof pluginClass) as T[];\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1396, "column": 0}, "map": {"version":3,"file":"chunk.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/utils/chunk.ts"],"sourcesContent":["// Creates an array of elements split into groups the length of size.\n// If array can't be split evenly, the final chunk will be the remaining elements.\n// Works similary as https://lodash.com/docs/4.17.15#chunk\n\nexport const chunk = <T>(arr: T[], size: number) => {\n  const chunkSize = Math.max(size, 1);\n  return arr.reduce<T[][]>((chunks, element, index) => {\n    const chunkIndex = Math.floor(index / chunkSize);\n    if (!chunks[chunkIndex]) {\n      chunks[chunkIndex] = [];\n    }\n    chunks[chunkIndex].push(element);\n    return chunks;\n  }, []);\n};\n"],"names":[],"mappings":"AAAA,qEAAqE;AACrE,kFAAkF;AAClF,0DAA0D;;;;AAEnD,IAAM,KAAK,GAAG,SAAI,GAAQ,EAAE,IAAY;IAC7C,IAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;IACpC,OAAO,GAAG,CAAC,MAAM,CAAQ,SAAC,MAAM,EAAE,OAAO,EAAE,KAAK;QAC9C,IAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC,CAAC;QACjD,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE;YACvB,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;SACzB;QACD,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACjC,OAAO,MAAM,CAAC;IAChB,CAAC,EAAE,EAAE,CAAC,CAAC;AACT,CAAC,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1419, "column": 0}, "map": {"version":3,"file":"logger.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/logger.ts"],"sourcesContent":["import { LogLevel } from './types/loglevel';\n\nconst PREFIX = 'Amplitude Logger ';\n\nexport interface ILogger {\n  disable(): void;\n  enable(logLevel: LogLevel): void;\n  log(...args: any[]): void;\n  warn(...args: any[]): void;\n  error(...args: any[]): void;\n  debug(...args: any[]): void;\n}\n\nexport interface LogConfig {\n  logger: ILogger;\n  logLevel: LogLevel;\n}\n\ntype TimeKey = 'start' | 'end';\n\nexport interface DebugContext {\n  type: string;\n  name: string;\n  args: string[] | string;\n  stacktrace?: string[] | string;\n  time?: { [key in TimeKey]?: string };\n  states?: { [key: string]: any };\n}\n\nexport class Logger implements ILogger {\n  logLevel: LogLevel;\n\n  constructor() {\n    this.logLevel = LogLevel.None;\n  }\n\n  disable(): void {\n    this.logLevel = LogLevel.None;\n  }\n\n  enable(logLevel: LogLevel = LogLevel.Warn): void {\n    this.logLevel = logLevel;\n  }\n\n  log(...args: any[]): void {\n    if (this.logLevel < LogLevel.Verbose) {\n      return;\n    }\n    console.log(`${PREFIX}[Log]: ${args.join(' ')}`);\n  }\n\n  warn(...args: any[]): void {\n    if (this.logLevel < LogLevel.Warn) {\n      return;\n    }\n    console.warn(`${PREFIX}[Warn]: ${args.join(' ')}`);\n  }\n\n  error(...args: any[]): void {\n    if (this.logLevel < LogLevel.Error) {\n      return;\n    }\n    console.error(`${PREFIX}[Error]: ${args.join(' ')}`);\n  }\n\n  debug(...args: any[]): void {\n    if (this.logLevel < LogLevel.Debug) {\n      return;\n    }\n    // console.debug output is hidden by default in chrome\n    console.log(`${PREFIX}[Debug]: ${args.join(' ')}`);\n  }\n}\n"],"names":[],"mappings":";;;AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,kBAAkB,CAAC;;AAE5C,IAAM,MAAM,GAAG,mBAAmB,CAAC;AA2BnC,IAAA,SAAA;IAGE,SAAA;QACE,IAAI,CAAC,QAAQ,0LAAG,WAAQ,CAAC,IAAI,CAAC;IAChC,CAAC;IAED,OAAA,SAAA,CAAA,OAAO,GAAP;QACE,IAAI,CAAC,QAAQ,0LAAG,WAAQ,CAAC,IAAI,CAAC;IAChC,CAAC;IAED,OAAA,SAAA,CAAA,MAAM,GAAN,SAAO,QAAkC;QAAlC,IAAA,aAAA,KAAA,GAAA;YAAA,kMAAqB,WAAQ,CAAC,IAAI;QAAA;QACvC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC3B,CAAC;IAED,OAAA,SAAA,CAAA,GAAG,GAAH;QAAI,IAAA,OAAA,EAAA,CAAc;YAAd,IAAA,KAAA,CAAc,EAAd,KAAA,UAAA,MAAc,EAAd,IAAc,CAAA;YAAd,IAAA,CAAA,GAAA,GAAA,SAAA,CAAA,GAAA,CAAc;;QAChB,IAAI,IAAI,CAAC,QAAQ,0LAAG,WAAQ,CAAC,OAAO,EAAE;YACpC,OAAO;SACR;QACD,OAAO,CAAC,GAAG,CAAC,GAAA,MAAA,CAAG,MAAM,EAAA,WAAA,MAAA,CAAU,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAE,CAAC,CAAC;IACnD,CAAC;IAED,OAAA,SAAA,CAAA,IAAI,GAAJ;QAAK,IAAA,OAAA,EAAA,CAAc;YAAd,IAAA,KAAA,CAAc,EAAd,KAAA,UAAA,MAAc,EAAd,IAAc,CAAA;YAAd,IAAA,CAAA,GAAA,GAAA,SAAA,CAAA,GAAA,CAAc;;QACjB,IAAI,IAAI,CAAC,QAAQ,0LAAG,WAAQ,CAAC,IAAI,EAAE;YACjC,OAAO;SACR;QACD,OAAO,CAAC,IAAI,CAAC,GAAA,MAAA,CAAG,MAAM,EAAA,YAAA,MAAA,CAAW,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAE,CAAC,CAAC;IACrD,CAAC;IAED,OAAA,SAAA,CAAA,KAAK,GAAL;QAAM,IAAA,OAAA,EAAA,CAAc;YAAd,IAAA,KAAA,CAAc,EAAd,KAAA,UAAA,MAAc,EAAd,IAAc,CAAA;YAAd,IAAA,CAAA,GAAA,GAAA,SAAA,CAAA,GAAA,CAAc;;QAClB,IAAI,IAAI,CAAC,QAAQ,0LAAG,WAAQ,CAAC,KAAK,EAAE;YAClC,OAAO;SACR;QACD,OAAO,CAAC,KAAK,CAAC,GAAA,MAAA,CAAG,MAAM,EAAA,aAAA,MAAA,CAAY,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAE,CAAC,CAAC;IACvD,CAAC;IAED,OAAA,SAAA,CAAA,KAAK,GAAL;QAAM,IAAA,OAAA,EAAA,CAAc;YAAd,IAAA,KAAA,CAAc,EAAd,KAAA,UAAA,MAAc,EAAd,IAAc,CAAA;YAAd,IAAA,CAAA,GAAA,GAAA,SAAA,CAAA,GAAA,CAAc;;QAClB,IAAI,IAAI,CAAC,QAAQ,0LAAG,WAAQ,CAAC,KAAK,EAAE;YAClC,OAAO;SACR;QACD,sDAAsD;QACtD,OAAO,CAAC,GAAG,CAAC,GAAA,MAAA,CAAG,MAAM,EAAA,aAAA,MAAA,CAAY,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAE,CAAC,CAAC;IACrD,CAAC;IACH,OAAA,MAAC;AAAD,CAAC,AA3CD,IA2CC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1489, "column": 0}, "map": {"version":3,"file":"config.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/config.ts"],"sourcesContent":["import { OfflineDisabled } from './types/offline';\nimport { ServerZoneType } from './types/server-zone';\nimport { Transport } from './types/transport';\nimport { Event } from './types/event/event';\nimport { Plan } from './types/event/plan';\nimport { IngestionMetadata } from './types/event/ingestion-metadata';\nimport { Storage } from './types/storage';\nimport {\n  AMPLITUDE_SERVER_URL,\n  AMPLITUDE_BATCH_SERVER_URL,\n  EU_AMPLITUDE_SERVER_URL,\n  EU_AMPLITUDE_BATCH_SERVER_URL,\n} from './types/constants';\n\nimport { Logger, ILogger } from './logger';\nimport { LogLevel } from './types/loglevel';\n\nexport const getDefaultConfig = () => ({\n  flushMaxRetries: 12,\n  flushQueueSize: 200,\n  flushIntervalMillis: 10000,\n  instanceName: '$default_instance',\n  logLevel: LogLevel.Warn,\n  loggerProvider: new Logger(),\n  offline: false,\n  optOut: false,\n  serverUrl: AMPLITUDE_SERVER_URL,\n  serverZone: 'US' as ServerZoneType,\n  useBatch: false,\n});\n\nexport interface IConfig {\n  /**\n   * Your Amplitude Project API key.\n   */\n  apiKey: string;\n  /**\n   * The interval of uploading events to Amplitude in milliseconds.\n   */\n  flushIntervalMillis: number;\n  /**\n   * The maximum number of retries for failed upload attempts. This is only applicable to retryable errors.\n   */\n  flushMaxRetries: number;\n  /**\n   * The maximum number of events that are batched in a single upload attempt.\n   */\n  flushQueueSize: number;\n  /**\n   * The instance name. For tracking events to multiple Amplitude projects in your application.\n   */\n  instanceName?: string;\n  /**\n   * Level of logs to be printed in the developer console.\n   * Valid values are `LogLevel.None`, `LogLevel.Error`, `LogLevel.Warn`, `LogLevel.Verbose`,  `LogLevel.Debug`\n   */\n  logLevel: LogLevel;\n  /**\n   * A custom Logger class to emit log messages to desired destination.\n   */\n  loggerProvider: ILogger;\n  /**\n   * The minimum length for the value of userId and deviceId properties.\n   */\n  minIdLength?: number;\n  /**\n   * Whether the SDK is connected to network.\n   */\n  offline?: boolean | typeof OfflineDisabled;\n  /**\n   *  The flag to opt this device out of Amplitude tracking.\n   *  If this flag is set, no additional information will be stored for the user.\n   */\n  optOut: boolean;\n  /**\n   * Tracking plan properties.\n   * Amplitude internal use.\n   */\n  plan?: Plan;\n  /**\n   * Ingestion metadata.\n   * Amplitude internal use.\n   */\n  ingestionMetadata?: IngestionMetadata;\n  /**\n   * The URL where events are upload to.\n   */\n  serverUrl?: string;\n  /**\n   * The Amplitude server zone.\n   * Set this to EU for Amplitude projects created in EU data center.\n   */\n  serverZone?: ServerZoneType;\n  /**\n   *  The storage provider to persist unsent events.\n   */\n  storageProvider?: Storage<Event[]>;\n  /**\n   * A customer Transport Class for sending data to a server.\n   */\n  transportProvider: Transport;\n  /**\n   * The flag of whether to upload events to Batch API instead of the default HTTP V2 API.\n   */\n  useBatch: boolean;\n  /**\n   * Metrics of the SDK.\n   */\n  requestMetadata?: IRequestMetadata;\n}\n\nexport interface IRequestMetadata {\n  sdk: {\n    metrics: {\n      histogram: IHistogramOptions;\n    };\n  };\n\n  recordHistogram<T extends HistogramKey>(key: T, value: IHistogramOptions[T]): void;\n}\n\nexport interface IHistogramOptions {\n  remote_config_fetch_time_IDB?: number;\n  remote_config_fetch_time_API_success?: number;\n  remote_config_fetch_time_API_fail?: number;\n}\n\nexport type HistogramKey = keyof IHistogramOptions;\n\nexport interface ConfigOptions extends Partial<IConfig> {\n  apiKey: string;\n  transportProvider: Transport;\n}\n\nexport class Config implements IConfig {\n  apiKey: string;\n  flushIntervalMillis: number;\n  flushMaxRetries: number;\n  flushQueueSize: number;\n  instanceName?: string;\n  loggerProvider: ILogger;\n  logLevel: LogLevel;\n  minIdLength?: number;\n  offline?: boolean | typeof OfflineDisabled;\n  plan?: Plan;\n  ingestionMetadata?: IngestionMetadata;\n  serverUrl: string | undefined;\n  serverZone?: ServerZoneType;\n  transportProvider: Transport;\n  storageProvider?: Storage<Event[]>;\n  useBatch: boolean;\n  requestMetadata?: RequestMetadata;\n\n  protected _optOut = false;\n  get optOut() {\n    return this._optOut;\n  }\n  set optOut(optOut: boolean) {\n    this._optOut = optOut;\n  }\n\n  constructor(options: ConfigOptions) {\n    const defaultConfig = getDefaultConfig();\n    this.apiKey = options.apiKey;\n    this.flushIntervalMillis = options.flushIntervalMillis ?? defaultConfig.flushIntervalMillis;\n    this.flushMaxRetries = options.flushMaxRetries || defaultConfig.flushMaxRetries;\n    this.flushQueueSize = options.flushQueueSize || defaultConfig.flushQueueSize;\n    this.instanceName = options.instanceName || defaultConfig.instanceName;\n    this.loggerProvider = options.loggerProvider || defaultConfig.loggerProvider;\n    this.logLevel = options.logLevel ?? defaultConfig.logLevel;\n    this.minIdLength = options.minIdLength;\n    this.plan = options.plan;\n    this.ingestionMetadata = options.ingestionMetadata;\n    this.offline = options.offline !== undefined ? options.offline : defaultConfig.offline;\n    this.optOut = options.optOut ?? defaultConfig.optOut;\n    this.serverUrl = options.serverUrl;\n    this.serverZone = options.serverZone || defaultConfig.serverZone;\n    this.storageProvider = options.storageProvider;\n    this.transportProvider = options.transportProvider;\n    this.useBatch = options.useBatch ?? defaultConfig.useBatch;\n    this.loggerProvider.enable(this.logLevel);\n\n    const serverConfig = createServerConfig(options.serverUrl, options.serverZone, options.useBatch);\n    this.serverZone = serverConfig.serverZone;\n    this.serverUrl = serverConfig.serverUrl;\n  }\n}\n\nexport const getServerUrl = (serverZone: ServerZoneType, useBatch: boolean) => {\n  if (serverZone === 'EU') {\n    return useBatch ? EU_AMPLITUDE_BATCH_SERVER_URL : EU_AMPLITUDE_SERVER_URL;\n  }\n  return useBatch ? AMPLITUDE_BATCH_SERVER_URL : AMPLITUDE_SERVER_URL;\n};\n\nexport const createServerConfig = (\n  serverUrl = '',\n  serverZone: ServerZoneType = getDefaultConfig().serverZone,\n  useBatch: boolean = getDefaultConfig().useBatch,\n) => {\n  if (serverUrl) {\n    return { serverUrl, serverZone: undefined };\n  }\n  const _serverZone = ['US', 'EU'].includes(serverZone) ? serverZone : getDefaultConfig().serverZone;\n  return {\n    serverZone: _serverZone,\n    serverUrl: getServerUrl(_serverZone, useBatch),\n  };\n};\n\nexport class RequestMetadata implements IRequestMetadata {\n  sdk: {\n    metrics: {\n      histogram: HistogramOptions;\n    };\n  };\n\n  constructor() {\n    this.sdk = {\n      metrics: {\n        histogram: {},\n      },\n    };\n  }\n\n  recordHistogram<T extends HistogramKey>(key: T, value: HistogramOptions[T]) {\n    this.sdk.metrics.histogram[key] = value;\n  }\n}\n\nclass HistogramOptions implements IHistogramOptions {\n  remote_config_fetch_time_IDB?: number;\n  remote_config_fetch_time_API_success?: number;\n  remote_config_fetch_time_API_fail?: number;\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1612, "column": 0}, "map": {"version":3,"file":"destination.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/plugins/destination.ts"],"sourcesContent":["import { DestinationPlugin } from '../types/plugin';\nimport { Event } from '../types/event/event';\nimport { Result } from '../types/result';\nimport { Status } from '../types/status';\nimport {\n  Response,\n  InvalidResponse,\n  PayloadTooLargeResponse,\n  RateLimitResponse,\n  SuccessResponse,\n} from '../types/response';\nimport {\n  INVALID_API_KEY,\n  MAX_RETRIES_EXCEEDED_MESSAGE,\n  MISSING_API_KEY_MESSAGE,\n  SUCCESS_MESSAGE,\n  UNEXPECTED_ERROR_MESSAGE,\n} from '../types/messages';\nimport { STORAGE_PREFIX } from '../types/constants';\nimport { chunk } from '../utils/chunk';\nimport { buildResult } from '../utils/result-builder';\nimport { createServerConfig, RequestMetadata } from '../config';\nimport { UUID } from '../utils/uuid';\nimport { IConfig } from '../config';\nimport { EventCallback } from '../types/event-callback';\n\nexport interface Context {\n  event: Event;\n  attempts: number;\n  callback: EventCallback;\n  timeout: number;\n}\n\nfunction getErrorMessage(error: unknown) {\n  if (error instanceof Error) return error.message;\n  return String(error);\n}\n\nexport function getResponseBodyString(res: Response) {\n  let responseBodyString = '';\n  try {\n    if ('body' in res) {\n      responseBodyString = JSON.stringify(res.body, null, 2);\n    }\n  } catch {\n    // to avoid crash, but don't care about the error, add comment to avoid empty block lint error\n  }\n  return responseBodyString;\n}\n\nexport class Destination implements DestinationPlugin {\n  name = 'amplitude';\n  type = 'destination' as const;\n\n  retryTimeout = 1000;\n  throttleTimeout = 30000;\n  storageKey = '';\n  // this.config is defined in setup() which will always be called first\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  config: IConfig;\n  // Indicator of whether events that are scheduled (but not flushed yet).\n  // When flush:\n  //   1. assign `scheduleId` to `flushId`\n  //   2. set `scheduleId` to null\n  scheduleId: ReturnType<typeof setTimeout> | null = null;\n  // Timeout in milliseconds of current schedule\n  scheduledTimeout = 0;\n  // Indicator of whether current flush resolves.\n  // When flush resolves, set `flushId` to null\n  flushId: ReturnType<typeof setTimeout> | null = null;\n  queue: Context[] = [];\n\n  async setup(config: IConfig): Promise<undefined> {\n    this.config = config;\n\n    this.storageKey = `${STORAGE_PREFIX}_${this.config.apiKey.substring(0, 10)}`;\n    const unsent = await this.config.storageProvider?.get(this.storageKey);\n    if (unsent && unsent.length > 0) {\n      void Promise.all(unsent.map((event) => this.execute(event))).catch();\n    }\n\n    return Promise.resolve(undefined);\n  }\n\n  execute(event: Event): Promise<Result> {\n    // Assign insert_id for dropping invalid event later\n    if (!event.insert_id) {\n      event.insert_id = UUID();\n    }\n\n    return new Promise((resolve) => {\n      const context = {\n        event,\n        attempts: 0,\n        callback: (result: Result) => resolve(result),\n        timeout: 0,\n      };\n      this.queue.push(context);\n      this.schedule(this.config.flushIntervalMillis);\n      this.saveEvents();\n    });\n  }\n\n  removeEventsExceedFlushMaxRetries(list: Context[]) {\n    return list.filter((context) => {\n      context.attempts += 1;\n      if (context.attempts < this.config.flushMaxRetries) {\n        return true;\n      }\n      void this.fulfillRequest([context], 500, MAX_RETRIES_EXCEEDED_MESSAGE);\n      return false;\n    });\n  }\n\n  scheduleEvents(list: Context[]) {\n    list.forEach((context) => {\n      this.schedule(context.timeout === 0 ? this.config.flushIntervalMillis : context.timeout);\n    });\n  }\n\n  // Schedule a flush in timeout when\n  // 1. No schedule\n  // 2. Timeout greater than existing timeout.\n  // This makes sure that when throttled, no flush when throttle timeout expires.\n  schedule(timeout: number) {\n    if (this.config.offline) {\n      return;\n    }\n\n    if (this.scheduleId === null || (this.scheduleId && timeout > this.scheduledTimeout)) {\n      if (this.scheduleId) {\n        clearTimeout(this.scheduleId);\n      }\n      this.scheduledTimeout = timeout;\n      this.scheduleId = setTimeout(() => {\n        this.queue = this.queue.map((context) => {\n          context.timeout = 0;\n          return context;\n        });\n        void this.flush(true);\n      }, timeout);\n      return;\n    }\n  }\n\n  // Mark current schedule is flushed.\n  resetSchedule() {\n    this.scheduleId = null;\n    this.scheduledTimeout = 0;\n  }\n\n  // Flush all events regardless of their timeout\n  async flush(useRetry = false) {\n    // Skip flush if offline\n    if (this.config.offline) {\n      this.resetSchedule();\n      this.config.loggerProvider.debug('Skipping flush while offline.');\n      return;\n    }\n\n    if (this.flushId) {\n      this.resetSchedule();\n      this.config.loggerProvider.debug('Skipping flush because previous flush has not resolved.');\n      return;\n    }\n\n    this.flushId = this.scheduleId;\n    this.resetSchedule();\n\n    const list: Context[] = [];\n    const later: Context[] = [];\n    this.queue.forEach((context) => (context.timeout === 0 ? list.push(context) : later.push(context)));\n\n    const batches = chunk(list, this.config.flushQueueSize);\n\n    // Promise.all() doesn't guarantee resolve order.\n    // Sequentially resolve to make sure backend receives events in order\n    await batches.reduce(async (promise, batch) => {\n      await promise;\n      return await this.send(batch, useRetry);\n    }, Promise.resolve());\n\n    // Mark current flush is done\n    this.flushId = null;\n\n    this.scheduleEvents(this.queue);\n  }\n\n  async send(list: Context[], useRetry = true) {\n    if (!this.config.apiKey) {\n      return this.fulfillRequest(list, 400, MISSING_API_KEY_MESSAGE);\n    }\n\n    const payload = {\n      api_key: this.config.apiKey,\n      events: list.map((context) => {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const { extra, ...eventWithoutExtra } = context.event;\n        return eventWithoutExtra;\n      }),\n      options: {\n        min_id_length: this.config.minIdLength,\n      },\n      client_upload_time: new Date().toISOString(),\n      request_metadata: this.config.requestMetadata,\n    };\n    this.config.requestMetadata = new RequestMetadata();\n\n    try {\n      const { serverUrl } = createServerConfig(this.config.serverUrl, this.config.serverZone, this.config.useBatch);\n      const res = await this.config.transportProvider.send(serverUrl, payload);\n      if (res === null) {\n        this.fulfillRequest(list, 0, UNEXPECTED_ERROR_MESSAGE);\n        return;\n      }\n      if (!useRetry) {\n        if ('body' in res) {\n          this.fulfillRequest(list, res.statusCode, `${res.status}: ${getResponseBodyString(res)}`);\n        } else {\n          this.fulfillRequest(list, res.statusCode, res.status);\n        }\n        return;\n      }\n      this.handleResponse(res, list);\n    } catch (e) {\n      const errorMessage = getErrorMessage(e);\n      this.config.loggerProvider.error(errorMessage);\n      this.handleResponse({ status: Status.Failed, statusCode: 0 }, list);\n    }\n  }\n\n  handleResponse(res: Response, list: Context[]) {\n    const { status } = res;\n\n    switch (status) {\n      case Status.Success: {\n        this.handleSuccessResponse(res, list);\n        break;\n      }\n      case Status.Invalid: {\n        this.handleInvalidResponse(res, list);\n        break;\n      }\n      case Status.PayloadTooLarge: {\n        this.handlePayloadTooLargeResponse(res, list);\n        break;\n      }\n      case Status.RateLimit: {\n        this.handleRateLimitResponse(res, list);\n        break;\n      }\n      default: {\n        // log intermediate event status before retry\n        this.config.loggerProvider.warn(`{code: 0, error: \"Status '${status}' provided for ${list.length} events\"}`);\n        this.handleOtherResponse(list);\n        break;\n      }\n    }\n  }\n\n  handleSuccessResponse(res: SuccessResponse, list: Context[]) {\n    this.fulfillRequest(list, res.statusCode, SUCCESS_MESSAGE);\n  }\n\n  handleInvalidResponse(res: InvalidResponse, list: Context[]) {\n    if (res.body.missingField || res.body.error.startsWith(INVALID_API_KEY)) {\n      this.fulfillRequest(list, res.statusCode, res.body.error);\n      return;\n    }\n\n    const dropIndex = [\n      ...Object.values(res.body.eventsWithInvalidFields),\n      ...Object.values(res.body.eventsWithMissingFields),\n      ...Object.values(res.body.eventsWithInvalidIdLengths),\n      ...res.body.silencedEvents,\n    ].flat();\n    const dropIndexSet = new Set(dropIndex);\n\n    const retry = list.filter((context, index) => {\n      if (dropIndexSet.has(index)) {\n        this.fulfillRequest([context], res.statusCode, res.body.error);\n        return;\n      }\n      return true;\n    });\n\n    if (retry.length > 0) {\n      // log intermediate event status before retry\n      this.config.loggerProvider.warn(getResponseBodyString(res));\n    }\n\n    const tryable = this.removeEventsExceedFlushMaxRetries(retry);\n    this.scheduleEvents(tryable);\n  }\n\n  handlePayloadTooLargeResponse(res: PayloadTooLargeResponse, list: Context[]) {\n    if (list.length === 1) {\n      this.fulfillRequest(list, res.statusCode, res.body.error);\n      return;\n    }\n\n    // log intermediate event status before retry\n    this.config.loggerProvider.warn(getResponseBodyString(res));\n\n    this.config.flushQueueSize /= 2;\n\n    const tryable = this.removeEventsExceedFlushMaxRetries(list);\n    this.scheduleEvents(tryable);\n  }\n\n  handleRateLimitResponse(res: RateLimitResponse, list: Context[]) {\n    const dropUserIds = Object.keys(res.body.exceededDailyQuotaUsers);\n    const dropDeviceIds = Object.keys(res.body.exceededDailyQuotaDevices);\n    const throttledIndex = res.body.throttledEvents;\n    const dropUserIdsSet = new Set(dropUserIds);\n    const dropDeviceIdsSet = new Set(dropDeviceIds);\n    const throttledIndexSet = new Set(throttledIndex);\n\n    const retry = list.filter((context, index) => {\n      if (\n        (context.event.user_id && dropUserIdsSet.has(context.event.user_id)) ||\n        (context.event.device_id && dropDeviceIdsSet.has(context.event.device_id))\n      ) {\n        this.fulfillRequest([context], res.statusCode, res.body.error);\n        return;\n      }\n      if (throttledIndexSet.has(index)) {\n        context.timeout = this.throttleTimeout;\n      }\n      return true;\n    });\n\n    if (retry.length > 0) {\n      // log intermediate event status before retry\n      this.config.loggerProvider.warn(getResponseBodyString(res));\n    }\n\n    const tryable = this.removeEventsExceedFlushMaxRetries(retry);\n    this.scheduleEvents(tryable);\n  }\n\n  handleOtherResponse(list: Context[]) {\n    const later = list.map((context) => {\n      context.timeout = context.attempts * this.retryTimeout;\n      return context;\n    });\n\n    const tryable = this.removeEventsExceedFlushMaxRetries(later);\n    this.scheduleEvents(tryable);\n  }\n\n  fulfillRequest(list: Context[], code: number, message: string) {\n    this.removeEvents(list);\n    list.forEach((context) => context.callback(buildResult(context.event, code, message)));\n  }\n\n  /**\n   * This is called on\n   * 1) new events are added to queue; or\n   * 2) response comes back for a request\n   *\n   * Update the event storage based on the queue\n   */\n  saveEvents() {\n    if (!this.config.storageProvider) {\n      return;\n    }\n\n    const updatedEvents = this.queue.map((context) => context.event);\n    void this.config.storageProvider.set(this.storageKey, updatedEvents);\n  }\n\n  /**\n   * This is called on response comes back for a request\n   */\n  removeEvents(eventsToRemove: Context[]) {\n    this.queue = this.queue.filter(\n      (queuedContext) => !eventsToRemove.some((context) => context.event.insert_id === queuedContext.event.insert_id),\n    );\n\n    this.saveEvents();\n  }\n}\n"],"names":[],"mappings":";;;;;AAGA,OAAO,EAAE,MAAM,EAAE,MAAM,iBAAiB,CAAC;AAQzC,OAAO,EACL,eAAe,EACf,4BAA4B,EAC5B,uBAAuB,EACvB,eAAe,EACf,wBAAwB,GACzB,MAAM,mBAAmB,CAAC;AAC3B,OAAO,EAAE,cAAc,EAAE,MAAM,oBAAoB,CAAC;AACpD,OAAO,EAAE,KAAK,EAAE,MAAM,gBAAgB,CAAC;AACvC,OAAO,EAAE,WAAW,EAAE,MAAM,yBAAyB,CAAC;AACtD,OAAO,EAAE,kBAAkB,EAAE,eAAe,EAAE,MAAM,WAAW,CAAC;AAChE,OAAO,EAAE,IAAI,EAAE,MAAM,eAAe,CAAC;;;;;;;;;AAWrC,SAAS,eAAe,CAAC,KAAc;IACrC,IAAI,KAAK,YAAY,KAAK,EAAE,OAAO,KAAK,CAAC,OAAO,CAAC;IACjD,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC;AACvB,CAAC;AAEK,SAAU,qBAAqB,CAAC,GAAa;IACjD,IAAI,kBAAkB,GAAG,EAAE,CAAC;IAC5B,IAAI;QACF,IAAI,MAAM,IAAI,GAAG,EAAE;YACjB,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;SACxD;KACF,CAAC,OAAA,IAAM;IACN,8FAA8F;KAC/F;IACD,OAAO,kBAAkB,CAAC;AAC5B,CAAC;AAED,IAAA,cAAA;IAAA,SAAA;QACE,IAAA,CAAA,IAAI,GAAG,WAAW,CAAC;QACnB,IAAA,CAAA,IAAI,GAAG,aAAsB,CAAC;QAE9B,IAAA,CAAA,YAAY,GAAG,IAAI,CAAC;QACpB,IAAA,CAAA,eAAe,GAAG,KAAK,CAAC;QACxB,IAAA,CAAA,UAAU,GAAG,EAAE,CAAC;QAKhB,wEAAwE;QACxE,cAAc;QACd,wCAAwC;QACxC,gCAAgC;QAChC,IAAA,CAAA,UAAU,GAAyC,IAAI,CAAC;QACxD,8CAA8C;QAC9C,IAAA,CAAA,gBAAgB,GAAG,CAAC,CAAC;QACrB,+CAA+C;QAC/C,6CAA6C;QAC7C,IAAA,CAAA,OAAO,GAAyC,IAAI,CAAC;QACrD,IAAA,CAAA,KAAK,GAAc,EAAE,CAAC;IAwTxB,CAAC;IAtTO,YAAA,SAAA,CAAA,KAAK,GAAX,SAAY,MAAe;;;;;;;;wBACzB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;wBAErB,IAAI,CAAC,UAAU,GAAG,GAAA,MAAA,yLAAG,iBAAc,EAAA,KAAA,MAAA,CAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAE,CAAC;wBAC9D,OAAA;4BAAA,EAAA,OAAA,IAAM;4BAAA,CAAA,KAAA,IAAI,CAAC,MAAM,CAAC,eAAe,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAA;yBAAA,CAAA;;wBAAhE,MAAM,GAAG,GAAA,IAAA,EAAuD;wBACtE,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;4BAC/B,KAAK,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,SAAC,KAAK;gCAAK,OAAA,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC;4BAAnB,CAAmB,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;yBACtE;wBAED,OAAA;4BAAA,EAAA,QAAA;4BAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC;yBAAA,CAAC;;;;KACnC;IAED,YAAA,SAAA,CAAA,OAAO,GAAP,SAAQ,KAAY;QAApB,IAAA,QAAA,IAAA,CAiBC;QAhBC,oDAAoD;QACpD,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE;YACpB,KAAK,CAAC,SAAS,0LAAG,OAAA,AAAI,EAAE,CAAC;SAC1B;QAED,OAAO,IAAI,OAAO,CAAC,SAAC,OAAO;YACzB,IAAM,OAAO,GAAG;gBACd,KAAK,EAAA,KAAA;gBACL,QAAQ,EAAE,CAAC;gBACX,QAAQ,EAAE,SAAC,MAAc;oBAAK,OAAA,OAAO,CAAC,MAAM,CAAC;gBAAf,CAAe;gBAC7C,OAAO,EAAE,CAAC;aACX,CAAC;YACF,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACzB,KAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;YAC/C,KAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,YAAA,SAAA,CAAA,iCAAiC,GAAjC,SAAkC,IAAe;QAAjD,IAAA,QAAA,IAAA,CASC;QARC,OAAO,IAAI,CAAC,MAAM,CAAC,SAAC,OAAO;YACzB,OAAO,CAAC,QAAQ,IAAI,CAAC,CAAC;YACtB,IAAI,OAAO,CAAC,QAAQ,GAAG,KAAI,CAAC,MAAM,CAAC,eAAe,EAAE;gBAClD,OAAO,IAAI,CAAC;aACb;YACD,KAAK,KAAI,CAAC,cAAc,CAAC;gBAAC,OAAO;aAAC,EAAE,GAAG,wLAAE,gCAA4B,CAAC,CAAC;YACvE,OAAO,KAAK,CAAC;QACf,CAAC,CAAC,CAAC;IACL,CAAC;IAED,YAAA,SAAA,CAAA,cAAc,GAAd,SAAe,IAAe;QAA9B,IAAA,QAAA,IAAA,CAIC;QAHC,IAAI,CAAC,OAAO,CAAC,SAAC,OAAO;YACnB,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC,KAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAC3F,CAAC,CAAC,CAAC;IACL,CAAC;IAED,mCAAmC;IACnC,iBAAiB;IACjB,4CAA4C;IAC5C,+EAA+E;IAC/E,YAAA,SAAA,CAAA,QAAQ,GAAR,SAAS,OAAe;QAAxB,IAAA,QAAA,IAAA,CAmBC;QAlBC,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;YACvB,OAAO;SACR;QAED,IAAI,IAAI,CAAC,UAAU,KAAK,IAAI,IAAI,AAAC,IAAI,CAAC,UAAU,IAAI,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAE;YACpF,IAAI,IAAI,CAAC,UAAU,EAAE;gBACnB,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;aAC/B;YACD,IAAI,CAAC,gBAAgB,GAAG,OAAO,CAAC;YAChC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;gBAC3B,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,KAAK,CAAC,GAAG,CAAC,SAAC,OAAO;oBAClC,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC;oBACpB,OAAO,OAAO,CAAC;gBACjB,CAAC,CAAC,CAAC;gBACH,KAAK,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACxB,CAAC,EAAE,OAAO,CAAC,CAAC;YACZ,OAAO;SACR;IACH,CAAC;IAED,oCAAoC;IACpC,YAAA,SAAA,CAAA,aAAa,GAAb;QACE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;IAC5B,CAAC;IAED,+CAA+C;IACzC,YAAA,SAAA,CAAA,KAAK,GAAX,SAAY,QAAgB;QAAhB,IAAA,aAAA,KAAA,GAAA;YAAA,WAAA,KAAgB;QAAA;;;;;;;wBAC1B,wBAAwB;wBACxB,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;4BACvB,IAAI,CAAC,aAAa,EAAE,CAAC;4BACrB,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,+BAA+B,CAAC,CAAC;4BAClE,OAAA;gCAAA,EAAA,QAAA;6BAAA,CAAO;yBACR;wBAED,IAAI,IAAI,CAAC,OAAO,EAAE;4BAChB,IAAI,CAAC,aAAa,EAAE,CAAC;4BACrB,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,yDAAyD,CAAC,CAAC;4BAC5F,OAAA;gCAAA,EAAA,QAAA;6BAAA,CAAO;yBACR;wBAED,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC;wBAC/B,IAAI,CAAC,aAAa,EAAE,CAAC;wBAEf,IAAI,GAAc,EAAE,CAAC;wBACrB,KAAK,GAAc,EAAE,CAAC;wBAC5B,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAC,OAAO;4BAAK,OAAA,AAAC,OAAO,CAAC,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;wBAAlE,CAAkE,CAAC,CAAC;wBAE9F,OAAO,2LAAG,QAAA,AAAK,EAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;wBAExD,iDAAiD;wBACjD,qEAAqE;wBACrE,OAAA;4BAAA,EAAA,OAAA;4BAAM,OAAO,CAAC,MAAM,CAAC,SAAO,OAAO,EAAE,KAAK;gCAAA,OAAA,CAAA,GAAA,yIAAA,CAAA,YAAA,EAAA,OAAA,KAAA,GAAA,KAAA,GAAA;;;;gDACxC,OAAA;oDAAA,EAAA,OAAA;oDAAM,OAAO;iDAAA,CAAA;;gDAAb,GAAA,IAAA,EAAa,CAAC;gDACP,OAAA;oDAAA,EAAA,OAAA;oDAAM,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC;iDAAA,CAAA;;gDAAvC,OAAA;oDAAA,EAAA,QAAA;oDAAO,GAAA,IAAA,EAAgC;iDAAA,CAAC;;;;6BACzC,EAAE,OAAO,CAAC,OAAO,EAAE,CAAC;yBAAA,CAAA;;wBALrB,iDAAiD;wBACjD,qEAAqE;wBACrE,GAAA,IAAA,EAGqB,CAAC;wBAEtB,6BAA6B;wBAC7B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;wBAEpB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;;;;;;;KACjC;IAEK,YAAA,SAAA,CAAA,IAAI,GAAV,SAAW,IAAe,EAAE,QAAe;QAAf,IAAA,aAAA,KAAA,GAAA;YAAA,WAAA,IAAe;QAAA;;;;;;wBACzC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;4BACvB,OAAA;gCAAA,EAAA,QAAA;gCAAO,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,GAAG,yLAAE,0BAAuB,CAAC;6BAAA,CAAC;yBAChE;wBAEK,OAAO,GAAG;4BACd,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM;4BAC3B,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,SAAC,OAAO;gCACvB,6DAA6D;gCAC7D,IAAM,KAAkC,OAAO,CAAC,KAAK,EAA7C,KAAK,GAAA,GAAA,KAAA,EAAK,iBAAiB,GAAA,CAAA,GAAA,yIAAA,CAAA,SAAA,EAAA,IAA7B;oCAAA;iCAA+B,CAAgB,CAAC;gCACtD,OAAO,iBAAiB,CAAC;4BAC3B,CAAC,CAAC;4BACF,OAAO,EAAE;gCACP,aAAa,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW;6BACvC;4BACD,kBAAkB,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE;4BAC5C,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe;yBAC9C,CAAC;wBACF,IAAI,CAAC,MAAM,CAAC,eAAe,GAAG,gLAAI,kBAAe,EAAE,CAAC;;;;;;;;;wBAG1C,SAAS,mLAAK,qBAAA,AAAkB,EAAC,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAA,SAA5F,CAA6F;wBAClG,OAAA;4BAAA,EAAA,OAAA;4BAAM,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC;yBAAA,CAAA;;wBAAlE,GAAG,GAAG,GAAA,IAAA,EAA4D;wBACxE,IAAI,GAAG,KAAK,IAAI,EAAE;4BAChB,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC,yLAAE,2BAAwB,CAAC,CAAC;4BACvD,OAAA;gCAAA,EAAA,QAAA;6BAAA,CAAO;yBACR;wBACD,IAAI,CAAC,QAAQ,EAAE;4BACb,IAAI,MAAM,IAAI,GAAG,EAAE;gCACjB,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,GAAG,CAAC,UAAU,EAAE,GAAA,MAAA,CAAG,GAAG,CAAC,MAAM,EAAA,MAAA,MAAA,CAAK,qBAAqB,CAAC,GAAG,CAAC,CAAE,CAAC,CAAC;6BAC3F,MAAM;gCACL,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;6BACvD;4BACD,OAAA;gCAAA,EAAA,QAAA;6BAAA,CAAO;yBACR;wBACD,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;;;;;;;wBAEzB,YAAY,GAAG,eAAe,CAAC,GAAC,CAAC,CAAC;wBACxC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;wBAC/C,IAAI,CAAC,cAAc,CAAC;4BAAE,MAAM,uLAAE,SAAM,CAAC,MAAM;4BAAE,UAAU,EAAE,CAAC;wBAAA,CAAE,EAAE,IAAI,CAAC,CAAC;;;;;;;;;;;;KAEvE;IAED,YAAA,SAAA,CAAA,cAAc,GAAd,SAAe,GAAa,EAAE,IAAe;QACnC,IAAA,MAAM,GAAK,GAAG,CAAA,MAAR,CAAS;QAEvB,OAAQ,MAAM,EAAE;YACd,0LAAK,SAAM,CAAC,OAAO,CAAC;gBAAC;oBACnB,IAAI,CAAC,qBAAqB,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;oBACtC,MAAM;iBACP;YACD,0LAAK,SAAM,CAAC,OAAO,CAAC;gBAAC;oBACnB,IAAI,CAAC,qBAAqB,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;oBACtC,MAAM;iBACP;YACD,0LAAK,SAAM,CAAC,eAAe,CAAC;gBAAC;oBAC3B,IAAI,CAAC,6BAA6B,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;oBAC9C,MAAM;iBACP;YACD,0LAAK,SAAM,CAAC,SAAS,CAAC;gBAAC;oBACrB,IAAI,CAAC,uBAAuB,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;oBACxC,MAAM;iBACP;YACD,OAAO,CAAC;gBAAC;oBACP,6CAA6C;oBAC7C,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,8BAAA,MAAA,CAA6B,MAAM,EAAA,mBAAA,MAAA,CAAkB,IAAI,CAAC,MAAM,EAAA,aAAW,CAAC,CAAC;oBAC7G,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;oBAC/B,MAAM;iBACP;SACF;IACH,CAAC;IAED,YAAA,SAAA,CAAA,qBAAqB,GAArB,SAAsB,GAAoB,EAAE,IAAe;QACzD,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,GAAG,CAAC,UAAU,yLAAE,kBAAe,CAAC,CAAC;IAC7D,CAAC;IAED,YAAA,SAAA,CAAA,qBAAqB,GAArB,SAAsB,GAAoB,EAAE,IAAe;QAA3D,IAAA,QAAA,IAAA,CA6BC;QA5BC,IAAI,GAAG,CAAC,IAAI,CAAC,YAAY,IAAI,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,wLAAC,kBAAe,CAAC,EAAE;YACvE,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC1D,OAAO;SACR;QAED,IAAM,SAAS,iJAAG,gBAAA,EAAA,CAAA,GAAA,yIAAA,CAAA,gBAAA,EAAA,CAAA,GAAA,yIAAA,CAAA,gBAAA,EAAA,CAAA,GAAA,yIAAA,CAAA,gBAAA,EAAA,EAAA,EAAA,CAAA,GAAA,yIAAA,CAAA,SAAA,EACb,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,uBAAuB,CAAC,GAAA,QAAA,CAAA,GAAA,yIAAA,CAAA,SAAA,EAC/C,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,uBAAuB,CAAC,GAAA,QAAA,CAAA,GAAA,yIAAA,CAAA,SAAA,EAC/C,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,0BAA0B,CAAC,GAAA,QAAA,CAAA,GAAA,yIAAA,CAAA,SAAA,EAClD,GAAG,CAAC,IAAI,CAAC,cAAc,GAAA,OAC1B,IAAI,EAAE,CAAC;QACT,IAAM,YAAY,GAAG,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC;QAExC,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,SAAC,OAAO,EAAE,KAAK;YACvC,IAAI,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;gBAC3B,KAAI,CAAC,cAAc,CAAC;oBAAC,OAAO;iBAAC,EAAE,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC/D,OAAO;aACR;YACD,OAAO,IAAI,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YACpB,6CAA6C;YAC7C,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC,CAAC;SAC7D;QAED,IAAM,OAAO,GAAG,IAAI,CAAC,iCAAiC,CAAC,KAAK,CAAC,CAAC;QAC9D,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IAC/B,CAAC;IAED,YAAA,SAAA,CAAA,6BAA6B,GAA7B,SAA8B,GAA4B,EAAE,IAAe;QACzE,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;YACrB,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC1D,OAAO;SACR;QAED,6CAA6C;QAC7C,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC,CAAC;QAE5D,IAAI,CAAC,MAAM,CAAC,cAAc,IAAI,CAAC,CAAC;QAEhC,IAAM,OAAO,GAAG,IAAI,CAAC,iCAAiC,CAAC,IAAI,CAAC,CAAC;QAC7D,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IAC/B,CAAC;IAED,YAAA,SAAA,CAAA,uBAAuB,GAAvB,SAAwB,GAAsB,EAAE,IAAe;QAA/D,IAAA,QAAA,IAAA,CA6BC;QA5BC,IAAM,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;QAClE,IAAM,aAAa,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;QACtE,IAAM,cAAc,GAAG,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC;QAChD,IAAM,cAAc,GAAG,IAAI,GAAG,CAAC,WAAW,CAAC,CAAC;QAC5C,IAAM,gBAAgB,GAAG,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC;QAChD,IAAM,iBAAiB,GAAG,IAAI,GAAG,CAAC,cAAc,CAAC,CAAC;QAElD,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,SAAC,OAAO,EAAE,KAAK;YACvC,IACE,AAAC,OAAO,CAAC,KAAK,CAAC,OAAO,IAAI,cAAc,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,GACnE,OAAO,CAAC,KAAK,CAAC,SAAS,IAAI,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAC1E;gBACA,KAAI,CAAC,cAAc,CAAC;oBAAC,OAAO;iBAAC,EAAE,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC/D,OAAO;aACR;YACD,IAAI,iBAAiB,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;gBAChC,OAAO,CAAC,OAAO,GAAG,KAAI,CAAC,eAAe,CAAC;aACxC;YACD,OAAO,IAAI,CAAC;QACd,CAAC,CAAC,CAAC;QAEH,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YACpB,6CAA6C;YAC7C,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC,CAAC;SAC7D;QAED,IAAM,OAAO,GAAG,IAAI,CAAC,iCAAiC,CAAC,KAAK,CAAC,CAAC;QAC9D,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IAC/B,CAAC;IAED,YAAA,SAAA,CAAA,mBAAmB,GAAnB,SAAoB,IAAe;QAAnC,IAAA,QAAA,IAAA,CAQC;QAPC,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,SAAC,OAAO;YAC7B,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC,QAAQ,GAAG,KAAI,CAAC,YAAY,CAAC;YACvD,OAAO,OAAO,CAAC;QACjB,CAAC,CAAC,CAAC;QAEH,IAAM,OAAO,GAAG,IAAI,CAAC,iCAAiC,CAAC,KAAK,CAAC,CAAC;QAC9D,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IAC/B,CAAC;IAED,YAAA,SAAA,CAAA,cAAc,GAAd,SAAe,IAAe,EAAE,IAAY,EAAE,OAAe;QAC3D,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QACxB,IAAI,CAAC,OAAO,CAAC,SAAC,OAAO;YAAK,OAAA,OAAO,CAAC,QAAQ,EAAC,iNAAA,AAAW,EAAC,OAAO,CAAC,KAAK,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;QAA3D,CAA2D,CAAC,CAAC;IACzF,CAAC;IAED;;;;;;OAMG,CACH,YAAA,SAAA,CAAA,UAAU,GAAV;QACE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE;YAChC,OAAO;SACR;QAED,IAAM,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,SAAC,OAAO;YAAK,OAAA,OAAO,CAAC,KAAK;QAAb,CAAa,CAAC,CAAC;QACjE,KAAK,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;IACvE,CAAC;IAED;;OAEG,CACH,YAAA,SAAA,CAAA,YAAY,GAAZ,SAAa,cAAyB;QACpC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAC5B,SAAC,aAAa;YAAK,OAAA,CAAC,cAAc,CAAC,IAAI,CAAC,SAAC,OAAO;gBAAK,OAAA,OAAO,CAAC,KAAK,CAAC,SAAS,KAAK,aAAa,CAAC,KAAK,CAAC,SAAS;YAAzD,CAAyD,CAAC;QAA5F,CAA4F,CAChH,CAAC;QAEF,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IACH,OAAA,WAAC;AAAD,CAAC,AA7UD,IA6UC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2074, "column": 0}, "map": {"version":3,"file":"revenue.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/revenue.ts"],"sourcesContent":["import { isValidObject } from './utils/valid-properties';\n\nexport interface IRevenue {\n  getEventProperties(): RevenueEventProperties;\n  setProductId(productId: string): IRevenue;\n  setQuantity(quantity: number): IRevenue;\n  setPrice(price: number): IRevenue;\n  setRevenueType(revenueType: string): IRevenue;\n  setCurrency(currency: string): IRevenue;\n  setEventProperties(properties: { [key: string]: any }): IRevenue;\n  setRevenue(revenue: number): IRevenue;\n  setReceipt(receipt: string): IRevenue;\n  setReceiptSig(receiptSig: string): IRevenue;\n}\n\nexport class Revenue implements IRevenue {\n  private productId: string;\n  private quantity: number;\n  private price: number;\n  private revenueType?: string;\n  private currency?: string;\n  private properties?: { [key: string]: any };\n  private revenue?: number;\n  private receipt?: string;\n  private receiptSig?: string;\n\n  constructor() {\n    this.productId = '';\n    this.quantity = 1;\n    this.price = 0.0;\n  }\n\n  setProductId(productId: string) {\n    this.productId = productId;\n    return this;\n  }\n\n  setQuantity(quantity: number) {\n    if (quantity > 0) {\n      this.quantity = quantity;\n    }\n    return this;\n  }\n\n  setPrice(price: number) {\n    this.price = price;\n    return this;\n  }\n\n  setRevenueType(revenueType: string) {\n    this.revenueType = revenueType;\n    return this;\n  }\n\n  setCurrency(currency: string) {\n    this.currency = currency;\n    return this;\n  }\n\n  setRevenue(revenue: number) {\n    this.revenue = revenue;\n    return this;\n  }\n\n  setReceipt(receipt: string) {\n    this.receipt = receipt;\n    return this;\n  }\n\n  setReceiptSig(receiptSig: string) {\n    this.receiptSig = receiptSig;\n    return this;\n  }\n\n  setEventProperties(properties: { [key: string]: ValidPropertyType }) {\n    if (isValidObject(properties)) {\n      this.properties = properties;\n    }\n    return this;\n  }\n\n  getEventProperties(): RevenueEventProperties {\n    const eventProperties: RevenueEventProperties = this.properties ? { ...this.properties } : {};\n    eventProperties[RevenueProperty.REVENUE_PRODUCT_ID] = this.productId;\n    eventProperties[RevenueProperty.REVENUE_QUANTITY] = this.quantity;\n    eventProperties[RevenueProperty.REVENUE_PRICE] = this.price;\n    eventProperties[RevenueProperty.REVENUE_TYPE] = this.revenueType;\n    eventProperties[RevenueProperty.REVENUE_CURRENCY] = this.currency;\n    eventProperties[RevenueProperty.REVENUE] = this.revenue;\n    eventProperties[RevenueProperty.RECEIPT] = this.receipt;\n    eventProperties[RevenueProperty.RECEIPT_SIG] = this.receiptSig;\n    return eventProperties;\n  }\n}\n\nexport interface RevenueEventProperties {\n  [RevenueProperty.REVENUE_PRODUCT_ID]?: string;\n  [RevenueProperty.REVENUE_QUANTITY]?: number;\n  [RevenueProperty.REVENUE_PRICE]?: number;\n  [RevenueProperty.REVENUE_TYPE]?: string;\n  [RevenueProperty.REVENUE_CURRENCY]?: string;\n  [RevenueProperty.REVENUE]?: number;\n  [RevenueProperty.RECEIPT]?: string;\n  [RevenueProperty.RECEIPT_SIG]?: string;\n}\n\nexport enum RevenueProperty {\n  REVENUE_PRODUCT_ID = '$productId',\n  REVENUE_QUANTITY = '$quantity',\n  REVENUE_PRICE = '$price',\n  REVENUE_TYPE = '$revenueType',\n  REVENUE_CURRENCY = '$currency',\n  REVENUE = '$revenue',\n  RECEIPT = '$receipt',\n  RECEIPT_SIG = '$receiptSig',\n}\n\nexport type ValidPropertyType =\n  | number\n  | string\n  | boolean\n  | Array<string | number>\n  | { [key: string]: ValidPropertyType }\n  | Array<{ [key: string]: ValidPropertyType }>;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2160, "column": 0}, "map": {"version":3,"file":"analytics-connector.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/analytics-connector.ts"],"sourcesContent":["import { AnalyticsConnector } from '@amplitude/analytics-connector';\n\nexport const getAnalyticsConnector = (instanceName = '$default_instance'): AnalyticsConnector => {\n  return AnalyticsConnector.getInstance(instanceName);\n};\n\nexport const setConnectorUserId = (userId: string | undefined, instanceName?: string): void => {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  getAnalyticsConnector(instanceName).identityStore.editIdentity().setUserId(userId).commit();\n};\n\nexport const setConnectorDeviceId = (deviceId: string, instanceName?: string): void => {\n  getAnalyticsConnector(instanceName).identityStore.editIdentity().setDeviceId(deviceId).commit();\n};\n"],"names":[],"mappings":";;;;;AAAA,OAAO,EAAE,kBAAkB,EAAE,MAAM,gCAAgC,CAAC;;AAE7D,IAAM,qBAAqB,GAAG,SAAC,YAAkC;IAAlC,IAAA,iBAAA,KAAA,GAAA;QAAA,eAAA,mBAAkC;IAAA;IACtE,yMAAO,qBAAkB,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;AACtD,CAAC,CAAC;AAEK,IAAM,kBAAkB,GAAG,SAAC,MAA0B,EAAE,YAAqB;IAClF,6DAA6D;IAC7D,aAAa;IACb,qBAAqB,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC;AAC9F,CAAC,CAAC;AAEK,IAAM,oBAAoB,GAAG,SAAC,QAAgB,EAAE,YAAqB;IAC1E,qBAAqB,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,CAAC;AAClG,CAAC,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2187, "column": 0}, "map": {"version":3,"file":"session.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/session.ts"],"sourcesContent":["export const isNewSession = (sessionTimeout: number, lastEventTime: number = Date.now()): boolean => {\n  const currentTime = Date.now();\n  const timeSinceLastEvent = currentTime - lastEventTime;\n\n  return timeSinceLastEvent > sessionTimeout;\n};\n"],"names":[],"mappings":";;;AAAO,IAAM,YAAY,GAAG,SAAC,cAAsB,EAAE,aAAkC;IAAlC,IAAA,kBAAA,KAAA,GAAA;QAAA,gBAAwB,IAAI,CAAC,GAAG,EAAE;IAAA;IACrF,IAAM,WAAW,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;IAC/B,IAAM,kBAAkB,GAAG,WAAW,GAAG,aAAa,CAAC;IAEvD,OAAO,kBAAkB,GAAG,cAAc,CAAC;AAC7C,CAAC,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2204, "column": 0}, "map": {"version":3,"file":"identity.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/plugins/identity.ts"],"sourcesContent":["import { BeforePlugin } from '../types/plugin';\nimport { IConfig } from '../config';\nimport { Event } from '../types/event/event';\nimport { getAnalyticsConnector } from '../analytics-connector';\n\nexport class IdentityEventSender implements BeforePlugin {\n  name = 'identity';\n  type = 'before' as const;\n\n  identityStore = getAnalyticsConnector().identityStore;\n\n  async execute(context: Event): Promise<Event> {\n    const userProperties = context.user_properties as Record<string, any>;\n    if (userProperties) {\n      this.identityStore.editIdentity().updateUserProperties(userProperties).commit();\n    }\n    return context;\n  }\n\n  async setup(config: IConfig) {\n    if (config.instanceName) {\n      this.identityStore = getAnalyticsConnector(config.instanceName).identityStore;\n    }\n  }\n}\n"],"names":[],"mappings":";;;;AAGA,OAAO,EAAE,qBAAqB,EAAE,MAAM,wBAAwB,CAAC;;;AAE/D,IAAA,sBAAA;IAAA,SAAA;QACE,IAAA,CAAA,IAAI,GAAG,UAAU,CAAC;QAClB,IAAA,CAAA,IAAI,GAAG,QAAiB,CAAC;QAEzB,IAAA,CAAA,aAAa,mMAAG,wBAAA,AAAqB,EAAE,EAAC,aAAa,CAAC;IAexD,CAAC;IAbO,oBAAA,SAAA,CAAA,OAAO,GAAb,SAAc,OAAc;;;;gBACpB,cAAc,GAAG,OAAO,CAAC,eAAsC,CAAC;gBACtE,IAAI,cAAc,EAAE;oBAClB,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC,MAAM,EAAE,CAAC;iBACjF;gBACD,OAAA;oBAAA,EAAA,QAAA;oBAAO,OAAO;iBAAA,CAAC;;;KAChB;IAEK,oBAAA,SAAA,CAAA,KAAK,GAAX,SAAY,MAAe;;;gBACzB,IAAI,MAAM,CAAC,YAAY,EAAE;oBACvB,IAAI,CAAC,aAAa,mMAAG,wBAAA,AAAqB,EAAC,MAAM,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC;iBAC/E;;;;;;KACF;IACH,OAAA,mBAAC;AAAD,CAAC,AAnBD,IAmBC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2254, "column": 0}, "map": {"version":3,"file":"query-params.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/query-params.ts"],"sourcesContent":["import { getGlobalScope } from './global-scope';\n\nexport const getQueryParams = (): Record<string, string | undefined> => {\n  const globalScope = getGlobalScope();\n  /* istanbul ignore if */\n  if (!globalScope?.location?.search) {\n    return {};\n  }\n  const pairs = globalScope.location.search.substring(1).split('&').filter(Boolean);\n  const params = pairs.reduce<Record<string, string | undefined>>((acc, curr) => {\n    const query = curr.split('=', 2);\n    const key = tryDecodeURIComponent(query[0]);\n    const value = tryDecodeURIComponent(query[1]);\n    if (!value) {\n      return acc;\n    }\n    acc[key] = value;\n    return acc;\n  }, {});\n  return params;\n};\n\nexport const tryDecodeURIComponent = (value = '') => {\n  try {\n    return decodeURIComponent(value);\n  } catch {\n    return '';\n  }\n};\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,cAAc,EAAE,MAAM,gBAAgB,CAAC;;AAEzC,IAAM,cAAc,GAAG;;IAC5B,IAAM,WAAW,4LAAG,iBAAA,AAAc,EAAE,CAAC;IACrC,sBAAA,EAAwB,CACxB,IAAI,CAAC,CAAA,CAAA,KAAA,WAAW,KAAA,QAAX,WAAW,KAAA,KAAA,IAAA,KAAA,IAAX,WAAW,CAAE,QAAQ,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,MAAM,CAAA,EAAE;QAClC,OAAO,CAAA,CAAE,CAAC;KACX;IACD,IAAM,KAAK,GAAG,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAClF,IAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAqC,SAAC,GAAG,EAAE,IAAI;QACxE,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QACjC,IAAM,GAAG,GAAG,qBAAqB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5C,IAAM,KAAK,GAAG,qBAAqB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9C,IAAI,CAAC,KAAK,EAAE;YACV,OAAO,GAAG,CAAC;SACZ;QACD,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;QACjB,OAAO,GAAG,CAAC;IACb,CAAC,EAAE,CAAA,CAAE,CAAC,CAAC;IACP,OAAO,MAAM,CAAC;AAChB,CAAC,CAAC;AAEK,IAAM,qBAAqB,GAAG,SAAC,KAAU;IAAV,IAAA,UAAA,KAAA,GAAA;QAAA,QAAA,EAAU;IAAA;IAC9C,IAAI;QACF,OAAO,kBAAkB,CAAC,KAAK,CAAC,CAAC;KAClC,CAAC,OAAA,IAAM;QACN,OAAO,EAAE,CAAC;KACX;AACH,CAAC,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2295, "column": 0}, "map": {"version":3,"file":"offline.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/types/offline.ts"],"sourcesContent":["export const OfflineDisabled = null;\n"],"names":[],"mappings":";;;AAAO,IAAM,eAAe,GAAG,IAAI,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2305, "column": 0}, "map": {"version":3,"file":"language.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/language.ts"],"sourcesContent":["export const getLanguage = (): string => {\n  if (typeof navigator === 'undefined') return '';\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  const userLanguage = (navigator as any).userLanguage as string | undefined;\n\n  return navigator.languages?.[0] ?? navigator.language ?? userLanguage ?? '';\n};\n"],"names":[],"mappings":";;;AAAO,IAAM,WAAW,GAAG;;IACzB,IAAI,OAAO,SAAS,KAAK,WAAW,EAAE,OAAO,EAAE,CAAC;IAChD,sEAAsE;IACtE,IAAM,YAAY,GAAI,SAAiB,CAAC,YAAkC,CAAC;IAE3E,OAAO,CAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,KAAA,SAAS,CAAC,SAAS,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,EAAA,CAAG,CAAC,CAAC,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,SAAS,CAAC,QAAQ,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,YAAY,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,EAAE,CAAC;AAC9E,CAAC,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2321, "column": 0}, "map": {"version":3,"file":"memory.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/storage/memory.ts"],"sourcesContent":["import { Storage } from '../types/storage';\n\nexport class MemoryStorage<T> implements Storage<T> {\n  memoryStorage: Map<string, T> = new Map();\n\n  async isEnabled(): Promise<boolean> {\n    return true;\n  }\n\n  async get(key: string): Promise<T | undefined> {\n    return this.memoryStorage.get(key);\n  }\n\n  async getRaw(key: string): Promise<string | undefined> {\n    const value = await this.get(key);\n    return value ? JSON.stringify(value) : undefined;\n  }\n\n  async set(key: string, value: T): Promise<void> {\n    this.memoryStorage.set(key, value);\n  }\n\n  async remove(key: string): Promise<void> {\n    this.memoryStorage.delete(key);\n  }\n\n  async reset(): Promise<void> {\n    this.memoryStorage.clear();\n  }\n}\n"],"names":[],"mappings":";;;;;AAEA,IAAA,gBAAA;IAAA,SAAA;QACE,IAAA,CAAA,aAAa,GAAmB,IAAI,GAAG,EAAE,CAAC;IA0B5C,CAAC;IAxBO,cAAA,SAAA,CAAA,SAAS,GAAf;;;gBACE,OAAA;oBAAA,EAAA,QAAA;oBAAO,IAAI;iBAAA,CAAC;;;KACb;IAEK,cAAA,SAAA,CAAA,GAAG,GAAT,SAAU,GAAW;;;gBACnB,OAAA;oBAAA,EAAA,QAAA;oBAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC;iBAAA,CAAC;;;KACpC;IAEK,cAAA,SAAA,CAAA,MAAM,GAAZ,SAAa,GAAW;;;;;;wBACR,OAAA;4BAAA,EAAA,OAAA;4BAAM,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;yBAAA,CAAA;;wBAA3B,KAAK,GAAG,GAAA,IAAA,EAAmB;wBACjC,OAAA;4BAAA,EAAA,QAAA;4BAAO,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS;yBAAA,CAAC;;;;KAClD;IAEK,cAAA,SAAA,CAAA,GAAG,GAAT,SAAU,GAAW,EAAE,KAAQ;;;gBAC7B,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;;;;;;KACpC;IAEK,cAAA,SAAA,CAAA,MAAM,GAAZ,SAAa,GAAW;;;gBACtB,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;;;;;;KAChC;IAEK,cAAA,SAAA,CAAA,KAAK,GAAX;;;gBACE,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;;;;;;KAC5B;IACH,OAAA,aAAC;AAAD,CAAC,AA3BD,IA2BC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2410, "column": 0}, "map": {"version":3,"file":"cookie.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/storage/cookie.ts"],"sourcesContent":["import { Storage, CookieStorageOptions } from '../types/storage';\nimport { getGlobalScope } from '../global-scope';\n\nexport class CookieStorage<T> implements Storage<T> {\n  options: CookieStorageOptions;\n  private static testValue: undefined | string;\n\n  constructor(options?: CookieStorageOptions) {\n    this.options = { ...options };\n  }\n\n  async isEnabled(): Promise<boolean> {\n    /* istanbul ignore if */\n    if (!getGlobalScope()) {\n      return false;\n    }\n\n    CookieStorage.testValue = String(Date.now());\n    const testStorage = new CookieStorage<string>(this.options);\n    const testKey = 'AMP_TEST';\n    try {\n      await testStorage.set(testKey, CookieStorage.testValue);\n      const value = await testStorage.get(testKey);\n      return value === CookieStorage.testValue;\n    } catch {\n      /* istanbul ignore next */\n      return false;\n    } finally {\n      await testStorage.remove(testKey);\n    }\n  }\n\n  async get(key: string): Promise<T | undefined> {\n    const value = await this.getRaw(key);\n    if (!value) {\n      return undefined;\n    }\n    try {\n      const decodedValue = decodeCookiesAsDefault(value) ?? decodeCookiesWithDoubleUrlEncoding(value);\n      if (decodedValue === undefined) {\n        console.error(`Amplitude Logger [Error]: Failed to decode cookie value for key: ${key}, value: ${value}`);\n        return undefined;\n      }\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n      return JSON.parse(decodedValue);\n    } catch {\n      console.error(`Amplitude Logger [Error]: Failed to parse cookie value for key: ${key}, value: ${value}`);\n      return undefined;\n    }\n  }\n\n  async getRaw(key: string): Promise<string | undefined> {\n    const globalScope = getGlobalScope();\n    const cookie = globalScope?.document?.cookie.split('; ') ?? [];\n    const match = cookie.find((c) => c.indexOf(key + '=') === 0);\n    if (!match) {\n      return undefined;\n    }\n    return match.substring(key.length + 1);\n  }\n\n  async set(key: string, value: T | null): Promise<void> {\n    try {\n      const expirationDays = this.options.expirationDays ?? 0;\n      const expires = value !== null ? expirationDays : -1;\n      let expireDate: Date | undefined = undefined;\n      if (expires) {\n        const date = new Date();\n        date.setTime(date.getTime() + expires * 24 * 60 * 60 * 1000);\n        expireDate = date;\n      }\n      let str = `${key}=${btoa(encodeURIComponent(JSON.stringify(value)))}`;\n      if (expireDate) {\n        str += `; expires=${expireDate.toUTCString()}`;\n      }\n      str += '; path=/';\n      if (this.options.domain) {\n        str += `; domain=${this.options.domain}`;\n      }\n      if (this.options.secure) {\n        str += '; Secure';\n      }\n      if (this.options.sameSite) {\n        str += `; SameSite=${this.options.sameSite}`;\n      }\n      const globalScope = getGlobalScope();\n      if (globalScope) {\n        globalScope.document.cookie = str;\n      }\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : String(error);\n      console.error(`Amplitude Logger [Error]: Failed to set cookie for key: ${key}. Error: ${errorMessage}`);\n    }\n  }\n\n  async remove(key: string): Promise<void> {\n    await this.set(key, null);\n  }\n\n  async reset(): Promise<void> {\n    return;\n  }\n}\n\nconst decodeCookiesAsDefault = (value: string): string | undefined => {\n  try {\n    return decodeURIComponent(atob(value));\n  } catch {\n    return undefined;\n  }\n};\n\nconst decodeCookiesWithDoubleUrlEncoding = (value: string): string | undefined => {\n  // Modern Ruby (v7+) automatically encodes cookies with URL encoding by\n  // https://api.rubyonrails.org/classes/ActionDispatch/Cookies.html\n  try {\n    return decodeURIComponent(atob(decodeURIComponent(value)));\n  } catch {\n    return undefined;\n  }\n};\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2648, "column": 0}, "map": {"version":3,"file":"cookie-name.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/cookie-name.ts"],"sourcesContent":["import { AMPLITUDE_PREFIX } from './types/constants';\n\nexport const getCookieName = (apiKey: string, postKey = '', limit = 10) => {\n  return [AMPLITUDE_PREFIX, postKey, apiKey.substring(0, limit)].filter(Boolean).join('_');\n};\n\nexport const getOldCookieName = (apiKey: string) => {\n  return `${AMPLITUDE_PREFIX.toLowerCase()}_${apiKey.substring(0, 6)}`;\n};\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,gBAAgB,EAAE,MAAM,mBAAmB,CAAC;;AAE9C,IAAM,aAAa,GAAG,SAAC,MAAc,EAAE,OAAY,EAAE,KAAU;IAAxB,IAAA,YAAA,KAAA,GAAA;QAAA,UAAA,EAAY;IAAA;IAAE,IAAA,UAAA,KAAA,GAAA;QAAA,QAAA,EAAU;IAAA;IACpE,OAAO;gMAAC,mBAAgB;QAAE,OAAO;QAAE,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC;KAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC3F,CAAC,CAAC;AAEK,IAAM,gBAAgB,GAAG,SAAC,MAAc;IAC7C,OAAO,GAAA,MAAA,yLAAG,mBAAgB,CAAC,WAAW,EAAE,EAAA,KAAA,MAAA,CAAI,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAE,CAAC;AACvE,CAAC,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2676, "column": 0}, "map": {"version":3,"file":"base.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/transports/base.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unsafe-argument */\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\n/* eslint-disable @typescript-eslint/no-unsafe-call */\nimport { Transport } from '../types/transport';\nimport { Status } from '../types/status';\nimport { Payload } from '../types/payload';\nimport { Response } from '../types/response';\n\nexport class BaseTransport implements Transport {\n  send(_serverUrl: string, _payload: Payload): Promise<Response | null> {\n    return Promise.resolve(null);\n  }\n\n  buildResponse(responseJSON: Record<string, any>): Response | null {\n    if (typeof responseJSON !== 'object') {\n      return null;\n    }\n\n    const statusCode = responseJSON.code || 0;\n    const status = this.buildStatus(statusCode);\n\n    switch (status) {\n      case Status.Success:\n        return {\n          status,\n          statusCode,\n          body: {\n            eventsIngested: responseJSON.events_ingested ?? 0,\n            payloadSizeBytes: responseJSON.payload_size_bytes ?? 0,\n            serverUploadTime: responseJSON.server_upload_time ?? 0,\n          },\n        };\n\n      case Status.Invalid:\n        return {\n          status,\n          statusCode,\n          body: {\n            error: responseJSON.error ?? '',\n            missingField: responseJSON.missing_field ?? '',\n            eventsWithInvalidFields: responseJSON.events_with_invalid_fields ?? {},\n            eventsWithMissingFields: responseJSON.events_with_missing_fields ?? {},\n            eventsWithInvalidIdLengths: responseJSON.events_with_invalid_id_lengths ?? {},\n            epsThreshold: responseJSON.eps_threshold ?? 0,\n            exceededDailyQuotaDevices: responseJSON.exceeded_daily_quota_devices ?? {},\n            silencedDevices: responseJSON.silenced_devices ?? [],\n            silencedEvents: responseJSON.silenced_events ?? [],\n            throttledDevices: responseJSON.throttled_devices ?? {},\n            throttledEvents: responseJSON.throttled_events ?? [],\n          },\n        };\n      case Status.PayloadTooLarge:\n        return {\n          status,\n          statusCode,\n          body: {\n            error: responseJSON.error ?? '',\n          },\n        };\n      case Status.RateLimit:\n        return {\n          status,\n          statusCode,\n          body: {\n            error: responseJSON.error ?? '',\n            epsThreshold: responseJSON.eps_threshold ?? 0,\n            throttledDevices: responseJSON.throttled_devices ?? {},\n            throttledUsers: responseJSON.throttled_users ?? {},\n            exceededDailyQuotaDevices: responseJSON.exceeded_daily_quota_devices ?? {},\n            exceededDailyQuotaUsers: responseJSON.exceeded_daily_quota_users ?? {},\n            throttledEvents: responseJSON.throttled_events ?? [],\n          },\n        };\n      case Status.Timeout:\n      default:\n        return {\n          status,\n          statusCode,\n        };\n    }\n  }\n\n  buildStatus(code: number): Status {\n    if (code >= 200 && code < 300) {\n      return Status.Success;\n    }\n\n    if (code === 429) {\n      return Status.RateLimit;\n    }\n\n    if (code === 413) {\n      return Status.PayloadTooLarge;\n    }\n\n    if (code === 408) {\n      return Status.Timeout;\n    }\n\n    if (code >= 400 && code < 500) {\n      return Status.Invalid;\n    }\n\n    if (code >= 500) {\n      return Status.Failed;\n    }\n\n    return Status.Unknown;\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2783, "column": 0}, "map": {"version":3,"file":"fetch.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/transports/fetch.ts"],"sourcesContent":["import { BaseTransport } from './base';\nimport { Transport } from '../types/transport';\nimport { Payload } from '../types/payload';\nimport { Response } from '../types/response';\n\nexport class FetchTransport extends BaseTransport implements Transport {\n  async send(serverUrl: string, payload: Payload): Promise<Response | null> {\n    /* istanbul ignore if */\n    if (typeof fetch === 'undefined') {\n      throw new Error('FetchTransport is not supported');\n    }\n    const options: RequestInit = {\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: '*/*',\n      },\n      body: JSON.stringify(payload),\n      method: 'POST',\n    };\n    const response = await fetch(serverUrl, options);\n    const responseText = await response.text();\n    try {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      return this.buildResponse(JSON.parse(responseText));\n    } catch {\n      return this.buildResponse({ code: response.status });\n    }\n  }\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,QAAQ,CAAC;;;AAKvC,IAAA,iBAAA,SAAA,MAAA;kJAAoC,YAAA,EAAA,gBAAA,QAAa;IAAjD,SAAA;;IAuBA,CAAC;IAtBO,eAAA,SAAA,CAAA,IAAI,GAAV,SAAW,SAAiB,EAAE,OAAgB;;;;;;wBAC5C,sBAAA,EAAwB,CACxB,IAAI,OAAO,KAAK,KAAK,WAAW,EAAE;4BAChC,MAAM,IAAI,KAAK,CAAC,iCAAiC,CAAC,CAAC;yBACpD;wBACK,OAAO,GAAgB;4BAC3B,OAAO,EAAE;gCACP,cAAc,EAAE,kBAAkB;gCAClC,MAAM,EAAE,KAAK;6BACd;4BACD,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;4BAC7B,MAAM,EAAE,MAAM;yBACf,CAAC;wBACe,OAAA;4BAAA,EAAA,OAAA;4BAAM,KAAK,CAAC,SAAS,EAAE,OAAO,CAAC;yBAAA,CAAA;;wBAA1C,QAAQ,GAAG,GAAA,IAAA,EAA+B;wBAC3B,OAAA;4BAAA,EAAA,OAAA;4BAAM,QAAQ,CAAC,IAAI,EAAE;yBAAA,CAAA;;wBAApC,YAAY,GAAG,GAAA,IAAA,EAAqB;wBAC1C,IAAI;4BACF,iEAAiE;4BACjE,OAAA;gCAAA,EAAA,QAAA;gCAAO,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;6BAAA,CAAC;yBACrD,CAAC,OAAA,IAAM;4BACN,OAAA;gCAAA,EAAA,QAAA;gCAAO,IAAI,CAAC,aAAa,CAAC;oCAAE,IAAI,EAAE,QAAQ,CAAC,MAAM;gCAAA,CAAE,CAAC;6BAAA,CAAC;yBACtD;;;;;;;KACF;IACH,OAAA,cAAC;AAAD,CAAC,AAvBD,yLAAoC,gBAAa,GAuBhD","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2855, "column": 0}, "map": {"version":3,"file":"element-interactions.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/types/element-interactions.ts"],"sourcesContent":["import { ILogger } from '../logger';\n\nexport type ActionType = 'click' | 'change';\n\n/**\n * Default CSS selectors to define which elements on the page to track.\n * Extend this list to include additional elements to track. For example:\n * ```\n * autocapturePlugin({\n *    cssSelectorAllowlist: [...DEFAULT_CSS_SELECTOR_ALLOWLIST, \".my-class\"],\n * })\n * ```\n */\nexport const DEFAULT_CSS_SELECTOR_ALLOWLIST = [\n  'a',\n  'button',\n  'input',\n  'select',\n  'textarea',\n  'label',\n  'video',\n  'audio',\n  '[contenteditable=\"true\" i]',\n  '[data-amp-default-track]',\n  '.amp-default-track',\n];\n\n/**\n * Default prefix to allow the plugin to capture data attributes as an event property.\n */\nexport const DEFAULT_DATA_ATTRIBUTE_PREFIX = 'data-amp-track-';\n\n/**\n * Default list of elements on the page should be tracked when the page changes.\n */\nexport const DEFAULT_ACTION_CLICK_ALLOWLIST = ['div', 'span', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n\nexport interface ElementInteractionsOptions {\n  /**\n   * List of CSS selectors to allow auto tracking on.\n   * When provided, allow elements matching any selector to be tracked.\n   * Default is ['a', 'button', 'input', 'select', 'textarea', 'label', '[data-amp-default-track]', '.amp-default-track'].\n   */\n  cssSelectorAllowlist?: string[];\n\n  /**\n   * List of page URLs to allow auto tracking on.\n   * When provided, only allow tracking on these URLs.\n   * Both full URLs and regex are supported.\n   */\n  pageUrlAllowlist?: (string | RegExp)[];\n\n  /**\n   * Function to determine whether an event should be tracked.\n   * When provided, this function overwrites all other allowlists and configurations.\n   * If the function returns true, the event will be tracked.\n   * If the function returns false, the event will not be tracked.\n   * @param actionType - The type of action that triggered the event.\n   * @param element - The [Element](https://developer.mozilla.org/en-US/docs/Web/API/Element) that triggered the event.\n   */\n  shouldTrackEventResolver?: (actionType: ActionType, element: DomElement) => boolean;\n\n  /**\n   * Prefix for data attributes to allow auto collecting.\n   * Default is 'data-amp-track-'.\n   */\n  dataAttributePrefix?: string;\n\n  /**\n   * Options for integrating visual tagging selector.\n   */\n  visualTaggingOptions?: {\n    enabled?: boolean;\n    messenger?: Messenger;\n  };\n\n  /**\n   * Debounce time in milliseconds for tracking events.\n   * This is used to detect rage clicks.\n   */\n  debounceTime?: number;\n\n  /**\n   * CSS selector allowlist for tracking clicks that result in a DOM change/navigation on elements not already allowed by the cssSelectorAllowlist\n   */\n  actionClickAllowlist?: string[];\n\n  /**\n   * Remote config for page actions\n   */\n  pageActions?: {\n    triggers: Trigger[];\n    labeledEvents: Record<string, LabeledEvent>;\n  };\n}\n\ntype MatchingCondition = {\n  type: 'LABELED_EVENT';\n  match: {\n    eventId: string;\n  };\n};\n\nexport type Trigger = {\n  id: string;\n  name: string; // Human friendly name for the trigger\n  conditions: MatchingCondition[]; // Configures when the actions should be executed; AND\n  actions: Array<PageAction | string>; // Actions to execute if conditions are met\n};\n\nexport type PageAction = {\n  id: string;\n  actionType: 'ATTACH_EVENT_PROPERTY';\n  dataSource: DataSource; // Defines where and how to get the data\n  destinationKey: string; // Property key name for the data (e.g. event property name, data layer key, user property name)\n};\n\nexport type DataSource = {\n  sourceType: 'DOM_ELEMENT' | 'PAGE_CONTEXT'; // | 'URL' ;\n} & (\n  | {\n      sourceType: 'DOM_ELEMENT';\n      selector?: string; // For DOM_ELEMENT: CSS selector for the target element\n      elementExtractType: 'TEXT' | 'ATTRIBUTE';\n      attribute?: string; // For DOM_ELEMENT: Attribute name to extract (null/empty for text content)\n      scope?: string; // CSS selector for the scope of the element, document by default\n    }\n  | {\n      sourceType: 'PAGE_CONTEXT';\n      propertyPath: string; // For PAGE_CONTEXT: e.g., 'document.title'\n    }\n);\n\nexport type EventSubpropKey = '[Amplitude] Element Text' | '[Amplitude] Element Hierarchy';\n\nexport type Filter = {\n  subprop_key: EventSubpropKey;\n  subprop_op: string; // exact, autotrack css match\n  subprop_value: string[];\n};\n\nexport type LabeledEvent = {\n  id: string;\n  definition: {\n    event_type: 'click' | 'change'; // [Amplitude] Element Clicked | [Amplitude] Element Changed\n    filters: Filter[];\n  }[];\n};\n\nexport interface Messenger {\n  logger?: ILogger;\n  setup: () => void;\n}\n\n// DomElement is [Element](https://developer.mozilla.org/en-US/docs/Web/API/Element) if the dom library is included in tsconfig.json\n// and never if it is not included\n// eslint-disable-next-line no-restricted-globals\ntype DomElement = typeof globalThis extends {\n  Element: new (...args: any) => infer T;\n}\n  ? T\n  : never;\n"],"names":[],"mappings":"AAIA;;;;;;;;GAQG;;;;;AACI,IAAM,8BAA8B,GAAG;IAC5C,GAAG;IACH,QAAQ;IACR,OAAO;IACP,QAAQ;IACR,UAAU;IACV,OAAO;IACP,OAAO;IACP,OAAO;IACP,4BAA4B;IAC5B,0BAA0B;IAC1B,oBAAoB;CACrB,CAAC;AAKK,IAAM,6BAA6B,GAAG,iBAAiB,CAAC;AAKxD,IAAM,8BAA8B,GAAG;IAAC,KAAK;IAAE,MAAM;IAAE,IAAI;IAAE,IAAI;IAAE,IAAI;IAAE,IAAI;IAAE,IAAI;IAAE,IAAI;CAAC,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2898, "column": 0}, "map": {"version":3,"file":"network-request-event.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/network-request-event.ts"],"sourcesContent":["import { getGlobalScope } from './global-scope';\n\n/* SAFE TYPE DEFINITIONS\n  These type definitions expose limited properties of the original types\n  to prevent the consumer from mutating them or consuming them.\n*/\ntype BlobSafe = {\n  size: number;\n};\n\ntype ArrayBufferSafe = {\n  byteLength: number;\n};\n\ntype ArrayBufferViewSafe = {\n  byteLength: number;\n};\n\ntype URLSearchParamsSafe = {\n  toString(): string;\n};\n\n// no method on readablestream is safe to call\ntype ReadableStreamSafe = Record<string, never>;\n\ntype FormDataEntryValueSafe = string | BlobSafe | null;\n\ntype BodyInitSafe =\n  | string\n  | Blob\n  | ArrayBufferSafe\n  | FormDataSafe\n  | URLSearchParamsSafe\n  | ArrayBufferViewSafe\n  | null\n  | undefined;\n\ntype HeadersRequestSafe = {\n  entries(): IterableIterator<[string, string]>;\n  forEach(callbackfn: (value: string, key: string) => void): void;\n};\n\ntype HeadersResponseSafe = {\n  get(name: string): string | null;\n  forEach(callbackfn: (value: string, key: string) => void): void;\n};\n\ntype HeadersInitSafe = HeadersRequestSafe | Record<string, string> | string[][];\n\ntype ResponseSafe = {\n  status: number;\n  headers: HeadersResponseSafe | undefined;\n};\n\nexport type RequestInitSafe = {\n  method?: string;\n  headers?: HeadersInitSafe;\n  body?: BodyInitSafe;\n};\nexport interface FormDataSafe {\n  entries(): IterableIterator<[string, FormDataEntryValueSafe]>;\n}\nexport type XMLHttpRequestBodyInitSafe = BlobSafe | FormDataSafe | URLSearchParamsSafe | string;\n\nexport type FetchRequestBody =\n  | string\n  | BlobSafe\n  | ArrayBufferSafe\n  | FormDataSafe\n  | URLSearchParamsSafe\n  | ArrayBufferViewSafe\n  | null\n  | undefined;\n\nexport interface IRequestWrapper {\n  headers?: Record<string, string>;\n  bodySize?: number;\n  method?: string;\n  body?: FetchRequestBody | XMLHttpRequestBodyInitSafe | null;\n}\n\nexport const MAXIMUM_ENTRIES = 100;\n\n/**\n * This class encapsulates the RequestInit (https://developer.mozilla.org/en-US/docs/Web/API/RequestInit)\n * object so that the consumer can only get access to the headers, method and body size.\n *\n * This is to prevent consumers from directly accessing the Request object\n * and mutating it or running costly operations on it.\n *\n * IMPORTANT:\n *    * Do not make changes to this class without careful consideration\n *      of performance implications, memory usage and potential to mutate the customer's\n *      request.\n *   * NEVER .clone() the RequestInit object. This will 2x's the memory overhead of the request\n *   * NEVER: call .arrayBuffer(), text(), json() or any other method on the body that\n *     consumes the body's stream. This will cause the response to be consumed\n *     meaning the body will be empty when the customer tries to access it.\n *     (ie: if the body is an instanceof https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream\n *      never call any of the methods on it)\n */\nexport class RequestWrapperFetch implements IRequestWrapper {\n  private _headers: Record<string, string> | undefined;\n  private _bodySize: number | undefined;\n  constructor(private request: RequestInitSafe) {}\n\n  get headers(): Record<string, string> | undefined {\n    if (this._headers) return this._headers;\n\n    const headersUnsafe = this.request.headers;\n    if (Array.isArray(headersUnsafe)) {\n      const headers = headersUnsafe;\n      this._headers = headers.reduce((acc, [key, value]) => {\n        acc[key] = value;\n        return acc;\n      }, {} as Record<string, string>);\n    } else if (headersUnsafe instanceof Headers) {\n      const headersSafe = headersUnsafe as HeadersRequestSafe;\n      const headersObj: Record<string, string> = {};\n      headersSafe.forEach((value, key) => {\n        headersObj[key] = value;\n      });\n      this._headers = headersObj;\n    } else if (typeof headersUnsafe === 'object') {\n      this._headers = headersUnsafe as Record<string, string>;\n    }\n\n    return this._headers;\n  }\n\n  get bodySize(): number | undefined {\n    if (typeof this._bodySize === 'number') return this._bodySize;\n    const global = getGlobalScope();\n\n    /* istanbul ignore if */\n    if (!global?.TextEncoder) {\n      return;\n    }\n    const body = this.request.body as FetchRequestBody;\n    this._bodySize = getBodySize(body, MAXIMUM_ENTRIES);\n    return this._bodySize;\n  }\n\n  get method(): string | undefined {\n    return this.request.method;\n  }\n}\n\nexport class RequestWrapperXhr implements IRequestWrapper {\n  constructor(readonly body: XMLHttpRequestBodyInitSafe | null) {}\n\n  get bodySize(): number | undefined {\n    return getBodySize(this.body as FetchRequestBody, MAXIMUM_ENTRIES);\n  }\n}\n\nfunction getBodySize(bodyUnsafe: FetchRequestBody, maxEntries: number): number | undefined {\n  let bodySize: number | undefined;\n  const global = getGlobalScope();\n  /* istanbul ignore next */\n  const TextEncoder = global?.TextEncoder;\n  /* istanbul ignore next */\n  if (!TextEncoder) {\n    return;\n  }\n  let bodySafe;\n  if (typeof bodyUnsafe === 'string') {\n    bodySafe = bodyUnsafe;\n    bodySize = new TextEncoder().encode(bodySafe).length;\n  } else if (bodyUnsafe instanceof Blob) {\n    bodySafe = bodyUnsafe as BlobSafe;\n    bodySize = bodySafe.size;\n  } else if (bodyUnsafe instanceof URLSearchParams) {\n    bodySafe = bodyUnsafe as URLSearchParamsSafe;\n    bodySize = new TextEncoder().encode(bodySafe.toString()).length;\n  } else if (ArrayBuffer.isView(bodyUnsafe)) {\n    bodySafe = bodyUnsafe as ArrayBufferViewSafe;\n    bodySize = bodySafe.byteLength;\n  } else if (bodyUnsafe instanceof ArrayBuffer) {\n    bodySafe = bodyUnsafe as ArrayBufferSafe;\n    bodySize = bodySafe.byteLength;\n  } else if (bodyUnsafe instanceof FormData) {\n    // Estimating only for text parts; not accurate for files\n    const formData = bodyUnsafe as unknown as FormDataSafe;\n\n    let total = 0;\n    let count = 0;\n    for (const [key, value] of formData.entries()) {\n      total += key.length;\n      if (typeof value === 'string') {\n        total += new TextEncoder().encode(value).length;\n      } else if (value instanceof Blob) {\n        total += value.size;\n      } else {\n        // encountered an unknown type\n        // we can't estimate the size of this entry\n        return;\n      }\n      // terminate if we reach the maximum number of entries\n      // to avoid performance issues in case of very large FormData\n      if (++count >= maxEntries) {\n        return;\n      }\n    }\n    bodySize = total;\n  } else if (bodyUnsafe instanceof ReadableStream) {\n    // If bodyUnsafe is an instanceof ReadableStream, we can't determine the size,\n    // without consuming it, so we return undefined.\n    // Never ever consume ReadableStream! DO NOT DO IT!!!\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    bodySafe = bodyUnsafe as unknown as ReadableStreamSafe;\n    return;\n  }\n  return bodySize;\n}\n\nexport interface IResponseWrapper {\n  headers?: Record<string, string>;\n  bodySize?: number;\n  status?: number;\n  body?: string | Blob | ReadableStream | ArrayBuffer | FormDataSafe | URLSearchParams | ArrayBufferView | null;\n}\n\n/**\n * This class encapsulates the Fetch API Response object\n * (https://developer.mozilla.org/en-US/docs/Web/API/Response) so that the consumer can\n * only get access to the headers and body size.\n *\n * This is to prevent consumers from directly accessing the Response object\n * and mutating it or running costly operations on it.\n *\n * IMPORTANT:\n *   * Do not make changes to this class without careful consideration\n *     of performance implications, memory usage and potential to mutate the customer's\n *     response.\n *   * NEVER .clone() the Response object. This will 2x's the memory overhead of the response\n *   * NEVER consume the body's stream. This will cause the response to be consumed\n *     meaning the body will be empty when the customer tries to access it.\n *     (ie: if the body is an instanceof https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream\n *      never call any of the methods on it)\n */\nexport class ResponseWrapperFetch implements IResponseWrapper {\n  private _headers: Record<string, string> | undefined;\n  private _bodySize: number | undefined;\n  constructor(private response: ResponseSafe) {}\n\n  get headers(): Record<string, string> | undefined {\n    if (this._headers) return this._headers;\n\n    if (this.response.headers instanceof Headers) {\n      const headersSafe = this.response.headers as HeadersResponseSafe;\n      const headersOut: Record<string, string> = {};\n      /* istanbul ignore next */\n      headersSafe?.forEach?.((value, key) => {\n        headersOut[key] = value;\n      });\n      this._headers = headersOut;\n      return headersOut;\n    }\n\n    return;\n  }\n\n  get bodySize(): number | undefined {\n    if (this._bodySize !== undefined) return this._bodySize;\n    /* istanbul ignore next */\n    const contentLength = this.response.headers?.get?.('content-length');\n    const bodySize = contentLength ? parseInt(contentLength, 10) : undefined;\n    this._bodySize = bodySize;\n    return bodySize;\n  }\n\n  get status(): number {\n    return this.response.status;\n  }\n}\n\nexport class ResponseWrapperXhr implements IResponseWrapper {\n  constructor(readonly statusCode: number, readonly headersString: string, readonly size: number | undefined) {}\n\n  get bodySize(): number | undefined {\n    return this.size;\n  }\n\n  get status(): number {\n    return this.statusCode;\n  }\n\n  get headers(): Record<string, string> | undefined {\n    if (!this.headersString) {\n      return;\n    }\n    const headers: Record<string, string> = {};\n    const headerLines = this.headersString.split('\\r\\n');\n    for (const line of headerLines) {\n      const [key, value] = line.split(': ');\n      if (key && value) {\n        headers[key] = value;\n      }\n    }\n    return headers;\n  }\n}\n\nexport class NetworkRequestEvent {\n  constructor(\n    public readonly type: 'xhr' | 'fetch',\n    public readonly method: string,\n    public readonly timestamp: number,\n    public readonly startTime: number,\n    public readonly url?: string,\n    public readonly requestWrapper?: IRequestWrapper,\n    public readonly status: number = 0,\n    public readonly duration?: number,\n    public readonly responseWrapper?: IResponseWrapper,\n    public readonly error?: {\n      name: string;\n      message: string;\n    },\n    public readonly endTime?: number,\n  ) {}\n\n  toSerializable(): Record<string, any> {\n    const serialized: Record<string, any> = {\n      type: this.type,\n      method: this.method,\n      url: this.url,\n      timestamp: this.timestamp,\n      status: this.status,\n      duration: this.duration,\n      error: this.error,\n      startTime: this.startTime,\n      endTime: this.endTime,\n      requestHeaders: this.requestWrapper?.headers,\n      requestBodySize: this.requestWrapper?.bodySize,\n      responseHeaders: this.responseWrapper?.headers,\n      responseBodySize: this.responseWrapper?.bodySize,\n    };\n\n    return Object.fromEntries(Object.entries(serialized).filter(([_, v]) => v !== undefined));\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3231, "column": 0}, "map": {"version":3,"file":"network-observer.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/network-observer.ts"],"sourcesContent":["import { getGlobalScope } from './global-scope';\nimport { UUID } from './utils/uuid';\nimport { ILogger } from './logger';\nimport {\n  IRequestWrapper,\n  NetworkRequestEvent,\n  RequestWrapperFetch,\n  ResponseWrapperFetch,\n  RequestWrapperXhr,\n  ResponseWrapperXhr,\n  IResponseWrapper,\n  RequestInitSafe,\n  XMLHttpRequestBodyInitSafe,\n} from './network-request-event';\n\n// object that is added to each XHR instance so\n// that info can be set in xhr.open and retrieved in xhr.send\ntype AmplitudeAnalyticsEvent = {\n  method: string;\n  url: string | URL;\n  startTime: number;\n  durationStart: number;\n  status?: number;\n};\n\n/**\n * Typeguard function checks if an input is a Request object.\n */\nfunction isRequest(requestInfo: any): requestInfo is Request {\n  return typeof requestInfo === 'object' && requestInfo !== null && 'url' in requestInfo && 'method' in requestInfo;\n}\n\nexport type NetworkEventCallbackFn = (event: NetworkRequestEvent) => void;\n\nexport class NetworkEventCallback {\n  constructor(public readonly callback: (event: NetworkRequestEvent) => void, public readonly id: string = UUID()) {}\n}\n\ntype RequestUrlAndMethod = {\n  url: string | URL | undefined;\n  method: string | undefined;\n};\n\n// A narrowed down [XMLHttpRequest](https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest) type\n// that only includes the properties we need to access and adds the $$AmplitudeAnalyticsEvent property\n// Use great care when modifying this type, make sure you only use read-only properties and only add\n// what you need to access, nothing more.\ntype AmplitudeXMLHttpRequestSafe = {\n  $$AmplitudeAnalyticsEvent: AmplitudeAnalyticsEvent;\n  status: number;\n  getAllResponseHeaders: typeof XMLHttpRequest.prototype.getAllResponseHeaders;\n  getResponseHeader: typeof XMLHttpRequest.prototype.getResponseHeader;\n  addEventListener: (type: 'loadend', listener: () => void) => void;\n};\n\nexport class NetworkObserver {\n  private eventCallbacks: Map<string, NetworkEventCallback> = new Map();\n  // eslint-disable-next-line no-restricted-globals\n  private globalScope?: typeof globalThis;\n  private logger?: ILogger;\n  private isObserving = false;\n  constructor(logger?: ILogger) {\n    this.logger = logger;\n    const globalScope = getGlobalScope();\n    if (!NetworkObserver.isSupported()) {\n      /* istanbul ignore next */\n      return;\n    }\n    this.globalScope = globalScope;\n  }\n\n  static isSupported(): boolean {\n    const globalScope = getGlobalScope();\n    return !!globalScope && !!globalScope.fetch;\n  }\n\n  subscribe(eventCallback: NetworkEventCallback, logger?: ILogger) {\n    if (!this.logger) {\n      this.logger = logger;\n    }\n    this.eventCallbacks.set(eventCallback.id, eventCallback);\n    if (!this.isObserving) {\n      /* istanbul ignore next */\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      const originalXhrOpen = this.globalScope?.XMLHttpRequest?.prototype?.open;\n      /* istanbul ignore next */\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      const originalXhrSend = this.globalScope?.XMLHttpRequest?.prototype?.send;\n      if (originalXhrOpen && originalXhrSend) {\n        this.observeXhr(originalXhrOpen, originalXhrSend);\n      }\n\n      /* istanbul ignore next */\n      const originalFetch = this.globalScope?.fetch;\n      /* istanbul ignore next */\n      if (originalFetch) {\n        this.observeFetch(originalFetch);\n      }\n\n      /* istanbul ignore next */\n      this.isObserving = true;\n    }\n  }\n\n  unsubscribe(eventCallback: NetworkEventCallback) {\n    this.eventCallbacks.delete(eventCallback.id);\n  }\n\n  protected triggerEventCallbacks(event: NetworkRequestEvent) {\n    this.eventCallbacks.forEach((callback) => {\n      try {\n        callback.callback(event);\n      } catch (err) {\n        // if the callback throws an error, we should catch it\n        // to avoid breaking the fetch promise chain\n        /* istanbul ignore next */\n        this.logger?.debug('an unexpected error occurred while triggering event callbacks', err);\n      }\n    });\n  }\n\n  private handleNetworkRequestEvent(\n    requestType: 'fetch' | 'xhr',\n    requestInfo: RequestInfo | URL | RequestUrlAndMethod | undefined,\n    requestWrapper: IRequestWrapper | undefined,\n    responseWrapper: IResponseWrapper | undefined,\n    typedError: Error | undefined,\n    startTime?: number,\n    durationStart?: number,\n  ) {\n    /* istanbul ignore next */\n    if (startTime === undefined || durationStart === undefined) {\n      // if we reach this point, it means that the performance API is not supported\n      // so we can't construct a NetworkRequestEvent\n      return;\n    }\n\n    // parse the URL and Method\n    let url: string | undefined;\n    let method = 'GET';\n    if (isRequest(requestInfo)) {\n      url = requestInfo['url'];\n      method = requestInfo['method'];\n    } else {\n      url = requestInfo?.toString?.();\n    }\n    method = requestWrapper?.method || method;\n\n    let status, error;\n    if (responseWrapper) {\n      status = responseWrapper.status;\n    }\n\n    if (typedError) {\n      error = {\n        name: typedError.name || 'UnknownError',\n        message: typedError.message || 'An unknown error occurred',\n      };\n      status = 0;\n    }\n\n    const duration = Math.floor(performance.now() - durationStart);\n    const endTime = Math.floor(startTime + duration);\n\n    const requestEvent = new NetworkRequestEvent(\n      requestType,\n      method,\n      startTime, // timestamp and startTime are aliases\n      startTime,\n      url,\n      requestWrapper,\n      status,\n      duration,\n      responseWrapper,\n      error,\n      endTime,\n    );\n\n    this.triggerEventCallbacks(requestEvent);\n  }\n\n  private getTimestamps() {\n    /* istanbul ignore next */\n    return {\n      startTime: Date.now?.(),\n      durationStart: performance?.now?.(),\n    };\n  }\n\n  private observeFetch(\n    originalFetch: (requestInfo: RequestInfo | URL, requestInit?: RequestInit) => Promise<Response>,\n  ) {\n    /* istanbul ignore next */\n    if (!this.globalScope || !originalFetch) {\n      return;\n    }\n    /**\n     * IMPORTANT: This overrides window.fetch in browsers.\n     * You probably never need to make changes to this function.\n     * If you do, please be careful to preserve the original functionality of fetch\n     * and make sure another developer who is an expert reviews this change throughly\n     */\n    this.globalScope.fetch = async (requestInfo?: RequestInfo | URL, requestInit?: RequestInit) => {\n      // 1: capture the start time and duration start time before the fetch call\n      let timestamps;\n      try {\n        timestamps = this.getTimestamps();\n      } catch (error) {\n        /* istanbul ignore next */\n        this.logger?.debug('an unexpected error occurred while retrieving timestamps', error);\n      }\n\n      // 2. make the call to the original fetch and preserve the response or error\n      let originalResponse, originalError;\n      try {\n        originalResponse = await originalFetch(requestInfo as RequestInfo | URL, requestInit);\n      } catch (err) {\n        // Capture error information\n        originalError = err;\n      }\n\n      // 3. call the handler after the fetch call is done\n      try {\n        this.handleNetworkRequestEvent(\n          'fetch',\n          requestInfo,\n          requestInit ? new RequestWrapperFetch(requestInit as RequestInitSafe) : undefined,\n          originalResponse ? new ResponseWrapperFetch(originalResponse) : undefined,\n          originalError as Error,\n          /* istanbul ignore next */\n          timestamps?.startTime,\n          /* istanbul ignore next */\n          timestamps?.durationStart,\n        );\n      } catch (err) {\n        // this catch shouldn't be reachable, but keep it here for safety\n        // because we're overriding the fetch function and better to be safe than sorry\n        /* istanbul ignore next */\n        this.logger?.debug('an unexpected error occurred while handling fetch', err);\n      }\n\n      // 4. return the original response or throw the original error\n      if (originalResponse) {\n        // if the response is not undefined, return it\n        return originalResponse;\n      } else {\n        throw originalError;\n      }\n    };\n  }\n\n  private observeXhr(\n    originalXhrOpen:\n      | ((\n          method: string,\n          url: string | URL,\n          async?: boolean,\n          username?: string | null,\n          password?: string | null,\n        ) => void)\n      | undefined,\n    originalXhrSend: ((body?: Document | XMLHttpRequestBodyInit | null) => void) | undefined,\n  ) {\n    /* istanbul ignore next */\n    if (!this.globalScope || !originalXhrOpen || !originalXhrSend) {\n      return;\n    }\n\n    const xhrProto = this.globalScope.XMLHttpRequest.prototype;\n\n    const networkObserverContext = this as NetworkObserver;\n\n    /**\n     * IMPORTANT: This overrides window.XMLHttpRequest.prototype.open\n     * You probably never need to make changes to this function.\n     * If you do, please be careful to preserve the original functionality of xhr.open\n     * and make sure another developer who is an expert reviews this change throughly\n     */\n    xhrProto.open = function (...args: any[]) {\n      const xhrSafe = this as unknown as AmplitudeXMLHttpRequestSafe;\n      const [method, url] = args as [string, string | URL];\n      try {\n        /* istanbul ignore next */\n        xhrSafe.$$AmplitudeAnalyticsEvent = {\n          method,\n          url: url?.toString?.(),\n          ...networkObserverContext.getTimestamps(),\n        } as AmplitudeAnalyticsEvent;\n      } catch (err) {\n        /* istanbul ignore next */\n        networkObserverContext.logger?.debug('an unexpected error occurred while calling xhr open', err);\n      }\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      return originalXhrOpen.apply(xhrSafe, args as any);\n    };\n\n    /**\n     * IMPORTANT: This overrides window.XMLHttpRequest.prototype.send\n     * You probably never need to make changes to this function.\n     * If you do, please be careful to preserve the original functionality of xhr.send\n     * and make sure another developer who is an expert reviews this change throughly\n     */\n    // allow \"any\" type for args to reflect how it's used in the browser\n    /* eslint-disable-next-line @typescript-eslint/no-unsafe-argument */\n    xhrProto.send = function (...args: any[]) {\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      const xhrSafe = this as unknown as AmplitudeXMLHttpRequestSafe;\n      const body = args[0] as XMLHttpRequestBodyInitSafe;\n      const requestEvent = xhrSafe.$$AmplitudeAnalyticsEvent;\n\n      xhrSafe.addEventListener('loadend', function () {\n        try {\n          const responseHeaders = xhrSafe.getAllResponseHeaders();\n          const responseBodySize = xhrSafe.getResponseHeader('content-length');\n          const responseWrapper = new ResponseWrapperXhr(\n            xhrSafe.status,\n            responseHeaders,\n            /* istanbul ignore next */\n            responseBodySize ? parseInt(responseBodySize, 10) : undefined,\n          );\n          const requestWrapper = new RequestWrapperXhr(body);\n          requestEvent.status = xhrSafe.status;\n          networkObserverContext.handleNetworkRequestEvent(\n            'xhr',\n            { url: requestEvent.url, method: requestEvent.method },\n            requestWrapper,\n            responseWrapper,\n            undefined,\n            requestEvent.startTime,\n            requestEvent.durationStart,\n          );\n        } catch (err) {\n          /* istanbul ignore next */\n          networkObserverContext.logger?.debug('an unexpected error occurred while handling xhr send', err);\n        }\n      });\n      /* eslint-disable-next-line @typescript-eslint/no-unsafe-argument */\n      return originalXhrSend.apply(xhrSafe, args as any);\n    };\n  }\n}\n\n// singleton instance of NetworkObserver\nexport const networkObserver = new NetworkObserver();\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3501, "column": 0}, "map": {"version":3,"file":"helpers.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/storage/helpers.ts"],"sourcesContent":["import { AMPLITUDE_PREFIX } from '../types/constants';\n\nexport const getStorageKey = (apiKey: string, postKey = '', limit = 10) => {\n  return [AMPLITUDE_PREFIX, postKey, apiKey.substring(0, limit)].filter(Boolean).join('_');\n};\n"],"names":[],"mappings":";;;AAAA,OAAO,EAAE,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;;AAE/C,IAAM,aAAa,GAAG,SAAC,MAAc,EAAE,OAAY,EAAE,KAAU;IAAxB,IAAA,YAAA,KAAA,GAAA;QAAA,UAAA,EAAY;IAAA;IAAE,IAAA,UAAA,KAAA,GAAA;QAAA,QAAA,EAAU;IAAA;IACpE,OAAO;gMAAC,mBAAgB;QAAE,OAAO;QAAE,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC;KAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC3F,CAAC,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3525, "column": 0}, "map": {"version":3,"file":"server-zone.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/analytics-core/src/types/server-zone.ts"],"sourcesContent":["/**\n * @deprecated use ServerZoneType instead\n */\nexport enum ServerZone {\n  US = 'US',\n  EU = 'EU',\n  /**\n   * Add for session-replay-browser migration from analytics-type v1.x.\n   */\n  STAGING = 'STAGING',\n}\n\nexport type ServerZoneType = 'US' | 'EU';\n"],"names":[],"mappings":"AAAA;;GAEG;;;AACH,IAAY,UAOX;AAPD,CAAA,SAAY,UAAU;IACpB,UAAA,CAAA,KAAA,GAAA,IAAS,CAAA;IACT,UAAA,CAAA,KAAA,GAAA,IAAS,CAAA;IACT;;OAEG,CACH,UAAA,CAAA,UAAA,GAAA,SAAmB,CAAA;AACrB,CAAC,EAPW,UAAU,IAAA,CAAV,UAAU,GAAA,CAAA,CAAA,GAOrB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3544, "column": 0}, "map": {"version":3,"file":"base.js","sourceRoot":"","sources":["file:///Users/facundoagustinpiaggio/Desktop/ProyectoInternos/Repositorios/SessionReplay-Sample/node_modules/%40amplitude/session-replay-browser/node_modules/%40amplitude/analytics-remote-config/node_modules/%40amplitude/analytics-core/src/transports/base.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unsafe-argument */\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\n/* eslint-disable @typescript-eslint/no-unsafe-call */\nimport { Payload, Response, Status, Transport } from '@amplitude/analytics-types';\n\nexport class BaseTransport implements Transport {\n  send(_serverUrl: string, _payload: Payload): Promise<Response | null> {\n    return Promise.resolve(null);\n  }\n\n  buildResponse(responseJSON: Record<string, any>): Response | null {\n    if (typeof responseJSON !== 'object') {\n      return null;\n    }\n\n    const statusCode = responseJSON.code || 0;\n    const status = this.buildStatus(statusCode);\n\n    switch (status) {\n      case Status.Success:\n        return {\n          status,\n          statusCode,\n          body: {\n            eventsIngested: responseJSON.events_ingested ?? 0,\n            payloadSizeBytes: responseJSON.payload_size_bytes ?? 0,\n            serverUploadTime: responseJSON.server_upload_time ?? 0,\n          },\n        };\n\n      case Status.Invalid:\n        return {\n          status,\n          statusCode,\n          body: {\n            error: responseJSON.error ?? '',\n            missingField: responseJSON.missing_field ?? '',\n            eventsWithInvalidFields: responseJSON.events_with_invalid_fields ?? {},\n            eventsWithMissingFields: responseJSON.events_with_missing_fields ?? {},\n            eventsWithInvalidIdLengths: responseJSON.events_with_invalid_id_lengths ?? {},\n            epsThreshold: responseJSON.eps_threshold ?? 0,\n            exceededDailyQuotaDevices: responseJSON.exceeded_daily_quota_devices ?? {},\n            silencedDevices: responseJSON.silenced_devices ?? [],\n            silencedEvents: responseJSON.silenced_events ?? [],\n            throttledDevices: responseJSON.throttled_devices ?? {},\n            throttledEvents: responseJSON.throttled_events ?? [],\n          },\n        };\n      case Status.PayloadTooLarge:\n        return {\n          status,\n          statusCode,\n          body: {\n            error: responseJSON.error ?? '',\n          },\n        };\n      case Status.RateLimit:\n        return {\n          status,\n          statusCode,\n          body: {\n            error: responseJSON.error ?? '',\n            epsThreshold: responseJSON.eps_threshold ?? 0,\n            throttledDevices: responseJSON.throttled_devices ?? {},\n            throttledUsers: responseJSON.throttled_users ?? {},\n            exceededDailyQuotaDevices: responseJSON.exceeded_daily_quota_devices ?? {},\n            exceededDailyQuotaUsers: responseJSON.exceeded_daily_quota_users ?? {},\n            throttledEvents: responseJSON.throttled_events ?? [],\n          },\n        };\n      case Status.Timeout:\n      default:\n        return {\n          status,\n          statusCode,\n        };\n    }\n  }\n\n  buildStatus(code: number): Status {\n    if (code >= 200 && code < 300) {\n      return Status.Success;\n    }\n\n    if (code === 429) {\n      return Status.RateLimit;\n    }\n\n    if (code === 413) {\n      return Status.PayloadTooLarge;\n    }\n\n    if (code === 408) {\n      return Status.Timeout;\n    }\n\n    if (code >= 400 && code < 500) {\n      return Status.Invalid;\n    }\n\n    if (code >= 500) {\n      return Status.Failed;\n    }\n\n    return Status.Unknown;\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}}]
}